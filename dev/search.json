[{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"full-name","dir":"","previous_headings":"","what":"Full name","title":"CeCILL-C Free Software License Agreement","text":"CeCILL-C Free Software License Agreement","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"short-identifier","dir":"","previous_headings":"","what":"Short identifier","title":"CeCILL-C Free Software License Agreement","text":"CECILL-C","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"other-web-pages-for-this-license","dir":"","previous_headings":"","what":"Other web pages for this license","title":"CeCILL-C Free Software License Agreement","text":"http://www.cecill.info/licences/Licence_CeCILL-C_V1-en.html","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"notes","dir":"","previous_headings":"","what":"Notes","title":"CeCILL-C Free Software License Agreement","text":"French version can found : http://www.cecill.info/licences/Licence\\_CeCILL-C\\_V1-fr.html","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"text","dir":"","previous_headings":"","what":"Text","title":"CeCILL-C Free Software License Agreement","text":"CeCILL-C FREE SOFTWARE LICENSE AGREEMENT Notice Agreement Free Software license agreement result discussions authors order ensure compliance two main principles guiding drafting: firstly, compliance principles governing distribution Free Software: access source code, broad rights granted users, secondly, election governing law, French law, conformant, regards law torts intellectual property law, protection offers authors holders economic rights software. authors CeCILL¹ license : Commissariat à l’Energie Atomique - CEA, public scientific, technical industrial research establishment, principal place business 25 rue Leblanc, immeuble Le Ponant D, 75015 Paris, France. Centre National de la Recherche Scientifique - CNRS, public scientific technological establishment, principal place business 3 rue Michel-Ange, 75794 Paris cedex 16, France. Institut National de Recherche en Informatique et en Automatique - INRIA, public scientific technological establishment, principal place business Domaine de Voluceau, Rocquencourt, BP 105, 78153 Le Chesnay cedex, France. Preamble purpose Free Software license agreement grant users right modify re-use software governed license. exercising right conditional upon obligation make available community modifications made source code software contribute evolution. consideration access source code rights copy, modify redistribute granted license, users provided limited warranty software’s author, holder economic rights, successive licensors limited liability. respect, risks associated loading, using, modifying /developing reproducing software user brought user’s attention, given Free Software status, may make complicated use, result use reserved developers experienced professionals -depth computer knowledge. Users therefore encouraged load test suitability software regards requirements conditions enabling security systems /data ensured , generally, use operate conditions security. Agreement may freely reproduced published, provided altered, provisions either added removed herefrom. Agreement may apply software holder economic rights decides submit use thereof provisions.","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"article-1---definitions","dir":"","previous_headings":"Text","what":"Article 1 - DEFINITIONS","title":"CeCILL-C Free Software License Agreement","text":"purpose Agreement, following expressions commence capital letter, shall following meaning: Agreement: means license agreement, possible subsequent versions annexes. Software: means software Object Code /Source Code form , applicable, documentation, “” Licensee accepts Agreement. Initial Software: means Software Source Code possibly Object Code form , applicable, documentation, “” first distributed terms conditions Agreement. Modified Software: means Software modified least one Integrated Contribution. Source Code: means Software’s instructions program lines access required modify Software. Object Code: means binary files originating compilation Source Code. Holder: means holder(s) economic rights Initial Software. Licensee: means Software user(s) accepted Agreement. Contributor: means Licensee made least one Integrated Contribution. Licensor: means Holder, individual legal entity, distributes Software Agreement. Integrated Contribution: means modifications, corrections, translations, adaptations /new functions integrated Source Code Contributors. Related Module: means set sources files including documentation , without modification Source Code, enables supplementary functions services addition offered Software. Derivative Software: means combination Software, modified , Related Module. Parties: mean Licensee Licensor. expressions may used singular plural form.","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"article-2---purpose","dir":"","previous_headings":"Text","what":"Article 2 - PURPOSE","title":"CeCILL-C Free Software License Agreement","text":"purpose Agreement grant Licensor Licensee non-exclusive, transferable worldwide license Software set forth Article 5 hereinafter whole term protection granted rights said Software.","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"article-3---acceptance","dir":"","previous_headings":"Text","what":"Article 3 - ACCEPTANCE","title":"CeCILL-C Free Software License Agreement","text":"3.1 Licensee shall deemed accepted terms conditions Agreement upon occurrence first following events: loading Software means, notably, downloading remote server, loading physical medium; first time Licensee exercises rights granted hereunder. 3.2 One copy Agreement, containing notice relating characteristics Software, limited warranty, fact use restricted experienced users provided Licensee prior acceptance set forth Article 3.1 hereinabove, Licensee hereby acknowledges read understood .","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"article-4---effective-date-and-term","dir":"","previous_headings":"Text","what":"Article 4 - EFFECTIVE DATE AND TERM","title":"CeCILL-C Free Software License Agreement","text":"4.1 EFFECTIVE DATE Agreement shall become effective date accepted Licensee set forth Article 3.1. 4.2 TERM Agreement shall remain force entire legal term protection economic rights Software.","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"article-5---scope-of-rights-granted","dir":"","previous_headings":"Text","what":"Article 5 - SCOPE OF RIGHTS GRANTED","title":"CeCILL-C Free Software License Agreement","text":"Licensor hereby grants Licensee, accepts, following rights Software use, term Agreement, basis terms conditions set forth hereinafter. Besides, Licensor owns comes one patents protecting part functions Software components, Licensor undertakes enforce rights granted patents successive Licensees using, exploiting modifying Software. patents transferred, Licensor undertakes transferees subscribe obligations set forth paragraph.","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"id_51-right-of-use","dir":"","previous_headings":"Text","what":"5.1 RIGHT OF USE","title":"CeCILL-C Free Software License Agreement","text":"Licensee authorized use Software, without limitation fields application, hereinafter specified comprises: permanent temporary reproduction part Software means form. loading, displaying, running, storing Software medium. entitlement observe, study test operation determine ideas principles behind constituent elements said Software. shall apply Licensee carries loading, displaying, running, transmission storage operation regards Software, entitled carry hereunder. 5.2 RIGHT MODIFICATION right modification includes right translate, adapt, arrange, make modifications Software, right reproduce resulting software. includes, particular, right create Derivative Software. Licensee authorized make modification Software provided includes explicit notice author said modification indicates date creation thereof. 5.3 RIGHT DISTRIBUTION particular, right distribution includes right publish, transmit communicate Software general public medium, means, right market, either consideration fee, free charge, one copies Software means. Licensee authorized distribute copies modified unmodified Software third parties according terms conditions set forth hereinafter. 5.3.1. DISTRIBUTION SOFTWARE WITHOUT MODIFICATION Licensee authorized distribute true copies Software Source Code Object Code form, provided said distribution complies provisions Agreement accompanied : copy Agreement, notice relating limitation Licensor’s warranty liability set forth Articles 8 9, , event Object Code Software redistributed, Licensee allows effective access full Source Code Software minimum entire period distribution Software, understood additional cost acquiring Source Code shall exceed cost transferring data. 5.3.2. DISTRIBUTION MODIFIED SOFTWARE Licensee makes Integrated Contribution Software, terms conditions distribution resulting Modified Software become subject provisions Agreement. Licensee authorized distribute Modified Software, source code object code form, provided said distribution complies provisions Agreement accompanied : copy Agreement, notice relating limitation Licensor’s warranty liability set forth Articles 8 9, , event object code Modified Software redistributed, Licensee allows effective access full source code Modified Software minimum entire period distribution Modified Software, understood additional cost acquiring source code shall exceed cost transferring data. 5.3.3. DISTRIBUTION DERIVATIVE SOFTWARE Licensee creates Derivative Software, Derivative Software may distributed license agreement Agreement, subject compliance requirement include notice concerning rights Software defined Article 6.4. event creation Derivative Software required modification Source Code, Licensee undertakes : resulting Modified Software governed Agreement, Integrated Contributions resulting Modified Software clearly identified documented, Licensee allow effective access source code Modified Software, minimum entire period distribution Derivative Software, modifications may carried subsequent version Software; understood additional cost purchasing source code Modified Software shall exceed cost transferring data. 5.3.4. COMPATIBILITY CeCILL LICENSE Modified Software contains Integrated Contribution subject CeCILL license agreement, Derivative Software contains Related Module subject CeCILL license agreement, provisions set forth third item Article 6.4 optional.","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"article-6---intellectual-property","dir":"","previous_headings":"Text","what":"Article 6 - INTELLECTUAL PROPERTY","title":"CeCILL-C Free Software License Agreement","text":"6.1 INITIAL SOFTWARE Holder owns economic rights Initial Software. use Initial Software subject compliance terms conditions Holder elected distribute work one shall entitled modify terms conditions distribution said Initial Software. Holder undertakes Initial Software remain ruled least Agreement, duration set forth Article 4.2. 6.2 INTEGRATED CONTRIBUTIONS Licensee develops Integrated Contribution owner intellectual property rights Contribution defined applicable law. 6.3 RELATED MODULES Licensee develops Related Module owner intellectual property rights Related Module defined applicable law free choose type agreement shall govern distribution conditions defined Article 5.3.3. 6.4 NOTICE RIGHTS Licensee expressly undertakes: remove, modify, manner, intellectual property notices attached Software; reproduce said notices, identical manner, copies Software modified ; ensure use Software, intellectual property notices fact governed Agreement indicated text easily accessible, specifically interface Derivative Software. Licensee undertakes directly indirectly infringe intellectual property rights Holder /Contributors Software take, applicable, vis-à-vis staff, measures required ensure respect said intellectual property rights Holder /Contributors.","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"article-7---related-services","dir":"","previous_headings":"Text","what":"Article 7 - RELATED SERVICES","title":"CeCILL-C Free Software License Agreement","text":"7.1 circumstances shall Agreement oblige Licensor provide technical assistance maintenance services Software. However, Licensor entitled offer type services. terms conditions technical assistance, /maintenance, shall set forth separate instrument. Licensor offering said maintenance /technical assistance services shall incur liability therefor. 7.2 Similarly, Licensor entitled offer licensees, sole responsibility, warranty, shall binding upon , redistribution Software /Modified Software, terms conditions free decide. Said warranty, financial terms conditions application, shall subject separate instrument executed Licensor Licensee.","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"article-8---liability","dir":"","previous_headings":"Text","what":"Article 8 - LIABILITY","title":"CeCILL-C Free Software License Agreement","text":"8.1 Subject provisions Article 8.2, Licensee shall entitled claim compensation direct loss may suffered Software result fault part relevant Licensor, subject providing evidence thereof. 8.2 Licensor’s liability limited commitments made Agreement shall incurred result particular: () loss due Licensee’s total partial failure fulfill obligations, (ii) direct consequential loss suffered Licensee due use performance Software, (iii) generally, consequential loss. particular Parties expressly agree pecuniary business loss (.e. loss data, loss profits, operating loss, loss customers orders, opportunity cost, disturbance business activities) legal proceedings instituted Licensee third party, shall constitute consequential loss shall provide entitlement compensation Licensor.","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"article-9---warranty","dir":"","previous_headings":"Text","what":"Article 9 - WARRANTY","title":"CeCILL-C Free Software License Agreement","text":"9.1 Licensee acknowledges scientific technical state---art Software distributed enable possible uses tested verified, presence possible defects detected. respect, Licensee’s attention drawn risks associated loading, using, modifying /developing reproducing Software reserved experienced users. Licensee shall responsible verifying, means, suitability product requirements, good working order, ensuring shall cause damage either persons properties. 9.2 Licensor hereby represents, good faith, entitled grant rights Software (including particular rights set forth Article 5). 9.3 Licensee acknowledges Software supplied “” Licensor without express tacit warranty, provided Article 9.2 , particular, without warranty commercial value, secured, safe, innovative relevant nature. Specifically, Licensor warrant Software free error, operate without interruption, compatible Licensee’s equipment software configuration, meet Licensee’s requirements. 9.4 Licensor either expressly tacitly warrant Software infringe third party intellectual property right relating patent, software property right. Therefore, Licensor disclaims liability towards Licensee arising proceedings infringement may instituted respect use, modification redistribution Software. Nevertheless, proceedings instituted Licensee, Licensor shall provide technical legal assistance defense. technical legal assistance shall decided case--case basis relevant Licensor Licensee pursuant memorandum understanding. Licensor disclaims liability regards Licensee’s use name Software. warranty given regards existence prior rights name Software regards existence trademark.","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"article-10---termination","dir":"","previous_headings":"Text","what":"Article 10 - TERMINATION","title":"CeCILL-C Free Software License Agreement","text":"10.1 event breach Licensee obligations hereunder, Licensor may automatically terminate Agreement thirty (30) days notice sent Licensee remained ineffective. 10.2 Licensee whose Agreement terminated shall longer authorized use, modify distribute Software. However, licenses may granted prior termination Agreement shall remain valid subject granted compliance terms conditions hereof.","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"article-11---miscellaneous","dir":"","previous_headings":"Text","what":"Article 11 - MISCELLANEOUS","title":"CeCILL-C Free Software License Agreement","text":"11.1 EXCUSABLE EVENTS Neither Party shall liable delay, failure perform Agreement, may attributable event force majeure, act God outside cause, defective functioning interruptions electricity telecommunications networks, network paralysis following virus attack, intervention government authorities, natural disasters, water damage, earthquakes, fire, explosions, strikes labor unrest, war, etc. 11.2 failure either Party, one occasions, invoke one provisions hereof, shall circumstances interpreted waiver interested Party right invoke said provision(s) subsequently. 11.3 Agreement cancels replaces previous agreements, whether written oral, Parties purpose, constitutes entirety agreement said Parties concerning said purpose. supplement modification terms conditions hereof shall effective Parties unless made writing signed duly authorized representatives. 11.4 event one provisions hereof conflict current future applicable act legislative text, said act legislative text shall prevail, Parties shall make necessary amendments comply said act legislative text. provisions shall remain effective. Similarly, invalidity provision Agreement, reason whatsoever, shall cause Agreement whole invalid. 11.5 LANGUAGE Agreement drafted French English versions deemed authentic.","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"article-12---new-versions-of-the-agreement","dir":"","previous_headings":"Text","what":"Article 12 - NEW VERSIONS OF THE AGREEMENT","title":"CeCILL-C Free Software License Agreement","text":"12.1 person authorized duplicate distribute copies Agreement. 12.2 ensure coherence, wording Agreement protected may modified authors License, reserve right periodically publish updates new versions Agreement, separate number. subsequent versions may address new issues encountered Free Software. 12.3 Software distributed given version Agreement may subsequently distributed version Agreement subsequent version.","code":""},{"path":"https://larmarange.github.io/prevR/dev/LICENSE.html","id":"article-13---governing-law-and-jurisdiction","dir":"","previous_headings":"Text","what":"Article 13 - GOVERNING LAW AND JURISDICTION","title":"CeCILL-C Free Software License Agreement","text":"13.1 Agreement governed French law. Parties agree endeavor seek amicable solution disagreements disputes may arise performance Agreement. 13.2 Failing amicable solution within two (2) months occurrence, unless emergency proceedings necessary, disagreements disputes shall referred Paris Courts jurisdiction, diligent Party. Version 1.0 dated 2006-09-05. 1 CeCILL stands Ce() C(nrs) (nria) L(ogiciel) L(ibre)","code":""},{"path":"https://larmarange.github.io/prevR/dev/articles/intro_prevR.html","id":"importing-data","dir":"Articles","previous_headings":"","what":"Importing data","title":"Introduction to prevR","text":"create prevR object, need three elements: data.frame one row per survey cluster containing number observations, number positive cases coordinates cluster (optionally use weighted numbers) vector identifying columns data.frame containing corresponding variables optional SpatialPolygons defining studied area interactive helper function import.dhs() used compute statistics per cluster generate prevR object downloaded individual files (SPSS format) location clusters (dbf format) DHS website (https://dhsprogram.com/). Boudaries specific country obtained create.boundary().","code":"library(prevR, quietly = TRUE) ##  ##  ## Welcome to 'prevR': estimate regional trends of a prevalence. ##  - type help('prevR') for details ##  - type demo(prevR) for a demonstration ##  - type citation('prevR') to cite prevR in a publication. ##  ## col <- c(   id = \"cluster\",   x = \"x\",   y = \"y\",   n = \"n\",   pos = \"pos\",   c.type = \"residence\",   wn = \"weighted.n\",   wpos = \"weighted.pos\" ) dhs <- as.prevR(fdhs.clusters, col, fdhs.boundary) str(dhs) ## Formal class 'prevR' [package \"prevR\"] with 4 slots ##   ..@ clusters:'data.frame': 401 obs. of  10 variables: ##   .. ..$ id    : int [1:401] 1 10 100 101 102 103 104 105 106 107 ... ##   .. ..$ x     : num [1:401] -1.21 -1.79 -2.29 -2.71 -1.96 ... ##   .. ..$ y     : num [1:401] 7.29 6.13 5.96 6.04 5.12 ... ##   .. ..$ n     : num [1:401] 23 22 22 28 21 21 11 24 23 15 ... ##   .. ..$ pos   : num [1:401] 0 0 0 0 3 4 0 1 0 0 ... ##   .. ..$ c.type: Factor w/ 2 levels \"Rural\",\"Urban\": 1 1 1 1 1 1 1 1 1 1 ... ##   .. ..$ wn    : num [1:401] 19.8 19.8 20.2 20.2 20.2 ... ##   .. ..$ wpos  : num [1:401] 0 0 0 0 2.88 ... ##   .. ..$ prev  : num [1:401] 0 0 0 0 14.3 ... ##   .. ..$ wprev : num [1:401] 0 0 0 0 14.3 ... ##   ..@ boundary:Classes 'sf' and 'data.frame':    1 obs. of  1 variable: ##   .. ..$ geometry:sfc_POLYGON of length 1; first list element: List of 1 ##   .. .. ..$ : num [1:4056, 1:2] 1.28 1.25 1.23 1.22 1.22 ... ##   .. .. ..- attr(*, \"class\")= chr [1:3] \"XY\" \"POLYGON\" \"sfg\" ##   .. ..- attr(*, \"sf_column\")= chr \"geometry\" ##   .. ..- attr(*, \"agr\")= Factor w/ 3 levels \"constant\",\"aggregate\",..:  ##   .. .. ..- attr(*, \"names\")= chr(0)  ##   .. ..- attr(*, \"valid\")= logi TRUE ##   ..@ proj    :List of 2 ##   .. ..$ input: chr \"+proj=longlat +datum=WGS84\" ##   .. ..$ wkt  : chr \"GEOGCRS[\\\"unknown\\\",\\n    DATUM[\\\"World Geodetic System 1984\\\",\\n        ELLIPSOID[\\\"WGS 84\\\",6378137,298.25722\"| __truncated__ ##   .. ..- attr(*, \"class\")= chr \"crs\" ##   ..@ rings   : list() print(dhs) ## Object of class 'prevR' ## Number of clusters: 401 ## Number of observations: 8000 ## Number of positive cases: 810 ## The dataset is weighted. ##  ## National prevalence: 10.12% ## National weighted prevalence: 10.16% ##  ## Projection used: +proj=longlat +datum=WGS84 ##  ## Coordinate range ##        min     max ## x -5.37750  3.6850 ## y  4.80326 14.1225 ##  ## Boundary coordinate range ##      xmin      ymin      xmax      ymax  ## -5.518916  4.736723  3.851701 15.082593 imported_data <- import.dhs(\"data.sav\", \"gps.dbf\")"},{"path":"https://larmarange.github.io/prevR/dev/articles/intro_prevR.html","id":"plotting-a-prevr-object","dir":"Articles","previous_headings":"","what":"Plotting a prevR object","title":"Introduction to prevR","text":"","code":"plot(dhs, main = \"Clusters position\") plot(dhs, type = \"c.type\", main = \"Clusters by residence\") plot(dhs, type = \"count\", main = \"Observations by cluster\") plot(dhs, type = \"flower\", main = \"Positive cases by cluster\")"},{"path":"https://larmarange.github.io/prevR/dev/articles/intro_prevR.html","id":"changing-coordinates-projection","dir":"Articles","previous_headings":"","what":"Changing coordinates projection","title":"Introduction to prevR","text":"","code":"plot(dhs, axes = TRUE) dhs <- changeproj(   dhs,   \"+proj=utm +zone=30 +ellps=WGS84 +datum=WGS84 +units=m +no_defs\" ) print(dhs) ## Object of class 'prevR' ## Number of clusters: 401 ## Number of observations: 8000 ## Number of positive cases: 810 ## The dataset is weighted. ##  ## National prevalence: 10.12% ## National weighted prevalence: 10.16% ##  ## Projection used: +proj=utm +zone=30 +ellps=WGS84 +datum=WGS84 +units=m +no_defs ##  ## Coordinate range ##        min     max ## x 240094.2 1231995 ## y 531003.3 1562155 ##  ## Boundary coordinate range ##      xmin      ymin      xmax      ymax  ##  224228.1  523628.1 1251165.0 1669034.2 plot(dhs, axes = TRUE)"},{"path":"https://larmarange.github.io/prevR/dev/articles/intro_prevR.html","id":"quick-analysis","dir":"Articles","previous_headings":"","what":"Quick analysis","title":"Introduction to prevR","text":"Function quick.prevR() allows perform quick analysis: optimal value N computed Noptim() adaptative bandwidths calculated rings() prevalence surface computed kde() surface rings radii generated krige() ggplot2 prevalence surface generated rings radii added contour plot  Several values N specified, several options allows return detailed results.","code":"quick.prevR(fdhs) res <- quick.prevR(   fdhs,   N = c(100, 200, 300),   return.results = TRUE,   return.plot = TRUE,   plot.results = FALSE,   progression = FALSE,   nb.cells = 50 ) res$plot"},{"path":"https://larmarange.github.io/prevR/dev/articles/intro_prevR.html","id":"step-by-step-analysis","dir":"Articles","previous_headings":"","what":"Step by step analysis","title":"Introduction to prevR","text":"","code":"# Calculating rings of the same number of observations for different values of N dhs <- rings(fdhs, N = c(100, 200, 300, 400, 500), progression = FALSE) print(dhs) ## Object of class 'prevR' ## Number of clusters: 401 ## Number of observations: 8000 ## Number of positive cases: 810 ## The dataset is weighted. ##  ## National prevalence: 10.12% ## National weighted prevalence: 10.16% ##  ## Projection used: +proj=longlat +datum=WGS84 ##  ## Coordinate range ##        min     max ## x -5.37750  3.6850 ## y  4.80326 14.1225 ##  ## Boundary coordinate range ##      xmin      ymin      xmax      ymax  ## -5.518916  4.736723  3.851701 15.082593 ##  ## Available (N,R) couples in the slot 'rings': ##    N   R ##  100 Inf ##  200 Inf ##  300 Inf ##  400 Inf ##  500 Inf summary(dhs) ## Object of class 'prevR' ## SLOT CLUSTERS ##        x                 y                n              pos         c.type    ##  Min.   :-5.3775   Min.   : 4.803   Min.   : 8.00   Min.   :0.00   Rural:230   ##  1st Qu.:-1.7925   1st Qu.: 6.375   1st Qu.:17.00   1st Qu.:0.00   Urban:171   ##  Median :-0.7650   Median : 7.455   Median :20.00   Median :2.00               ##  Mean   :-0.6605   Mean   : 8.647   Mean   :19.95   Mean   :2.02               ##  3rd Qu.: 0.1590   3rd Qu.:11.205   3rd Qu.:23.00   3rd Qu.:3.00               ##  Max.   : 3.6850   Max.   :14.123   Max.   :31.00   Max.   :9.00               ##        wn             wpos            prev            wprev        ##  Min.   :18.58   Min.   :0.000   Min.   : 0.000   Min.   : 0.000   ##  1st Qu.:19.84   1st Qu.:0.000   1st Qu.: 0.000   1st Qu.: 0.000   ##  Median :20.04   Median :1.544   Median : 7.692   Median : 7.692   ##  Mean   :19.95   Mean   :2.027   Mean   :10.143   Mean   :10.143   ##  3rd Qu.:20.12   3rd Qu.:3.166   3rd Qu.:15.789   3rd Qu.:15.789   ##  Max.   :21.76   Max.   :8.806   Max.   :43.750   Max.   :43.750 ##  ## SLOT RINGS FOR N=100 AND R=Inf ##      r.pos            r.n            r.prev          r.radius       ##  Min.   : 0.00   Min.   :100.0   Min.   : 0.000   Min.   :  4.155   ##  1st Qu.: 4.00   1st Qu.:105.0   1st Qu.: 4.000   1st Qu.: 23.046   ##  Median :11.00   Median :110.0   Median : 9.483   Median : 37.853   ##  Mean   :11.63   Mean   :110.7   Mean   :10.550   Mean   : 42.219   ##  3rd Qu.:18.00   3rd Qu.:115.0   3rd Qu.:15.789   3rd Qu.: 57.861   ##  Max.   :32.00   Max.   :127.0   Max.   :27.586   Max.   :142.042   ##    r.clusters        r.wpos            r.wn           r.wprev       ##  Min.   :4.000   Min.   : 0.000   Min.   : 79.76   Min.   : 0.000   ##  1st Qu.:5.000   1st Qu.: 4.515   1st Qu.:100.25   1st Qu.: 3.895   ##  Median :6.000   Median :11.175   Median :118.70   Median : 9.551   ##  Mean   :5.591   Mean   :11.792   Mean   :111.52   Mean   :10.684   ##  3rd Qu.:6.000   3rd Qu.:17.256   3rd Qu.:120.13   3rd Qu.:15.735   ##  Max.   :7.000   Max.   :33.937   Max.   :140.88   Max.   :28.210 ##  ## SLOT RINGS FOR N=200 AND R=Inf ##      r.pos            r.n            r.prev           r.radius       ##  Min.   : 2.00   Min.   :200.0   Min.   : 0.8929   Min.   :  7.171   ##  1st Qu.: 9.00   1st Qu.:206.0   1st Qu.: 4.3902   1st Qu.: 37.579   ##  Median :22.00   Median :211.0   Median :10.2804   Median : 58.657   ##  Mean   :22.55   Mean   :210.8   Mean   :10.7053   Mean   : 64.005   ##  3rd Qu.:33.00   3rd Qu.:216.0   3rd Qu.:15.4229   3rd Qu.: 89.381   ##  Max.   :56.00   Max.   :226.0   Max.   :26.2136   Max.   :231.980   ##    r.clusters        r.wpos           r.wn          r.wprev       ##  Min.   : 9.00   Min.   : 2.47   Min.   :175.0   Min.   : 1.030   ##  1st Qu.:10.00   1st Qu.:10.50   1st Qu.:199.8   1st Qu.: 4.563   ##  Median :11.00   Median :22.30   Median :217.3   Median :10.485   ##  Mean   :10.53   Mean   :22.66   Mean   :210.0   Mean   :10.824   ##  3rd Qu.:11.00   3rd Qu.:31.98   3rd Qu.:220.0   3rd Qu.:15.797   ##  Max.   :12.00   Max.   :53.47   Max.   :241.0   Max.   :26.666 ##  ## SLOT RINGS FOR N=300 AND R=Inf ##      r.pos            r.n            r.prev          r.radius       ##  Min.   : 5.00   Min.   :300.0   Min.   : 1.587   Min.   :  9.971   ##  1st Qu.:15.00   1st Qu.:304.0   1st Qu.: 4.983   1st Qu.: 45.750   ##  Median :32.00   Median :310.0   Median :10.559   Median : 73.931   ##  Mean   :33.37   Mean   :309.8   Mean   :10.764   Mean   : 79.767   ##  3rd Qu.:47.00   3rd Qu.:315.0   3rd Qu.:15.142   3rd Qu.:108.783   ##  Max.   :78.00   Max.   :327.0   Max.   :24.759   Max.   :268.172   ##    r.clusters        r.wpos            r.wn          r.wprev       ##  Min.   :13.00   Min.   : 4.284   Min.   :260.6   Min.   : 1.532   ##  1st Qu.:15.00   1st Qu.:15.937   1st Qu.:299.2   1st Qu.: 5.080   ##  Median :15.00   Median :33.525   Median :301.8   Median :10.319   ##  Mean   :15.44   Mean   :33.297   Mean   :307.9   Mean   :10.853   ##  3rd Qu.:16.00   3rd Qu.:46.856   3rd Qu.:320.0   3rd Qu.:15.429   ##  Max.   :17.00   Max.   :76.990   Max.   :341.4   Max.   :25.273 ##  ## SLOT RINGS FOR N=400 AND R=Inf ##      r.pos            r.n            r.prev          r.radius      ##  Min.   : 8.00   Min.   :400.0   Min.   : 2.000   Min.   : 12.70   ##  1st Qu.:22.00   1st Qu.:405.0   1st Qu.: 5.327   1st Qu.: 54.42   ##  Median :44.00   Median :410.0   Median :10.602   Median : 85.41   ##  Mean   :44.18   Mean   :410.3   Mean   :10.764   Mean   : 94.79   ##  3rd Qu.:58.00   3rd Qu.:415.0   3rd Qu.:14.217   3rd Qu.:127.73   ##  Max.   :98.00   Max.   :427.0   Max.   :23.278   Max.   :293.64   ##    r.clusters        r.wpos            r.wn          r.wprev       ##  Min.   :18.00   Min.   : 8.229   Min.   :360.1   Min.   : 2.045   ##  1st Qu.:20.00   1st Qu.:22.358   1st Qu.:399.9   1st Qu.: 5.345   ##  Median :21.00   Median :43.851   Median :415.4   Median :10.315   ##  Mean   :20.54   Mean   :44.298   Mean   :409.6   Mean   :10.851   ##  3rd Qu.:21.00   3rd Qu.:58.963   3rd Qu.:421.0   3rd Qu.:14.341   ##  Max.   :22.00   Max.   :95.591   Max.   :443.4   Max.   :23.452 ##  ## SLOT RINGS FOR N=500 AND R=Inf ##      r.pos             r.n            r.prev          r.radius      ##  Min.   : 14.00   Min.   :500.0   Min.   : 2.783   Min.   : 16.38   ##  1st Qu.: 31.00   1st Qu.:505.0   1st Qu.: 6.163   1st Qu.: 67.01   ##  Median : 54.00   Median :510.0   Median :10.700   Median : 98.47   ##  Mean   : 55.24   Mean   :510.3   Mean   :10.811   Mean   :107.68   ##  3rd Qu.: 70.00   3rd Qu.:515.0   3rd Qu.:13.699   3rd Qu.:140.71   ##  Max.   :116.00   Max.   :528.0   Max.   :22.612   Max.   :347.09   ##    r.clusters        r.wpos            r.wn          r.wprev       ##  Min.   :23.00   Min.   : 12.93   Min.   :455.7   Min.   : 2.499   ##  1st Qu.:25.00   1st Qu.: 31.71   1st Qu.:499.5   1st Qu.: 6.138   ##  Median :26.00   Median : 51.91   Median :510.9   Median :10.222   ##  Mean   :25.53   Mean   : 55.12   Mean   :509.3   Mean   :10.869   ##  3rd Qu.:26.00   3rd Qu.: 70.17   3rd Qu.:520.8   3rd Qu.:13.929   ##  Max.   :28.00   Max.   :110.78   Max.   :555.8   Max.   :22.822 ##  ## QUANTILES OF r.radius (in kilometers): ##              0%   10%   25%   50%    75%    80%    90%    95%    99%   100% ## N100.RInf  4.15  7.84 23.05 37.85  57.86  62.99  79.63  93.12 121.77 142.04 ## N200.RInf  7.17 14.58 37.58 58.66  89.38  94.40 114.97 134.81 173.37 231.98 ## N300.RInf  9.97 18.75 45.75 73.93 108.78 114.65 138.17 159.10 211.31 268.17 ## N400.RInf 12.70 31.42 54.42 85.41 127.73 136.67 163.91 177.11 241.44 293.64 ## N500.RInf 16.38 41.15 67.01 98.47 140.71 156.53 181.92 201.87 286.18 347.09 # Prevalence surface for N=300 prev.N300 <- kde(dhs, N = 300, nb.cells = 200, progression = FALSE) plot(   prev.N300[\"k.wprev.N300.RInf\"],   pal = prevR.colors.red,   lty = 0,   main = \"Regional trends of prevalence (N=300)\" ) # with ggplot2 library(ggplot2) ggplot(prev.N300) +   aes(fill = k.wprev.N300.RInf) +   geom_sf(colour = \"transparent\") +   scale_fill_gradientn(colours = prevR.colors.red()) +   labs(fill = \"Prevalence (%)\") +   theme_prevR_light() # Surface of rings' radius radius.N300 <- krige(\"r.radius\", dhs, N = 300, nb.cells = 200) ## [using ordinary kriging] plot(   radius.N300,   pal = prevR.colors.blue,   lty = 0,   main = \"Radius of circle (N=300)\" )"},{"path":"https://larmarange.github.io/prevR/dev/articles/intro_prevR.html","id":"functions-and-methods-provided-by-prevr","dir":"Articles","previous_headings":"","what":"Functions and methods provided by prevR","title":"Introduction to prevR","text":"content prevR can broken follows:","code":""},{"path":"https://larmarange.github.io/prevR/dev/articles/intro_prevR.html","id":"datasets","dir":"Articles","previous_headings":"Functions and methods provided by prevR","what":"Datasets","title":"Introduction to prevR","text":"fdhs fictive dataset used testing package. TMWorldBorders provides national borders every countries World used define limits studied area.","code":""},{"path":"https://larmarange.github.io/prevR/dev/articles/intro_prevR.html","id":"creating-objects","dir":"Articles","previous_headings":"Functions and methods provided by prevR","what":"Creating objects","title":"Introduction to prevR","text":"prevR functions takes input objects class prevR. import.dhs() allows import easily, step step procedure, data DHS (Demographic Health Surveys) downloaded http://www.measuredhs.com. .prevR() generic function create object class prevR. create.boundary() used select borders country transfer .prevR order define studied area.","code":""},{"path":"https://larmarange.github.io/prevR/dev/articles/intro_prevR.html","id":"data-visualization","dir":"Articles","previous_headings":"Functions and methods provided by prevR","what":"Data visualization","title":"Introduction to prevR","text":"Methods show(), print() summary() display summary object class prevR. method plot() used object class prevR visualizing studied area, spatial position clusters, number observations number positive cases cluster.","code":""},{"path":"https://larmarange.github.io/prevR/dev/articles/intro_prevR.html","id":"data-manipulation","dir":"Articles","previous_headings":"Functions and methods provided by prevR","what":"Data manipulation","title":"Introduction to prevR","text":"method changeproj() changes projection spatial coordinates. method .data.frame() converts object class prevR data frame. method export() export data /studied area text file, dbf file shapefile.","code":""},{"path":"https://larmarange.github.io/prevR/dev/articles/intro_prevR.html","id":"data-analysis","dir":"Articles","previous_headings":"Functions and methods provided by prevR","what":"Data analysis","title":"Introduction to prevR","text":"rings() calculates rings equal number observations /equal radius. kde() calculates prevalence surface relative risks surface using gaussian kernel density estimators (kde) adaptative bandwidths. krige() executes spatial interpolation using ordinary kriging. idw() executes spatial interpolation using inverse distance weighting (idw) technique.","code":""},{"path":"https://larmarange.github.io/prevR/dev/articles/intro_prevR.html","id":"results-visualization-and-export","dir":"Articles","previous_headings":"Functions and methods provided by prevR","what":"Results visualization and export","title":"Introduction to prevR","text":"Outputs kde(), krige() idw() objects class SpatialPixelsDataFrame (sp package). Results plotted using function spplot() sp. prevR provides several continuous color palettes (see prevR.colors) compatible spplot(). Calculated surfaces export using function writeRaster() terra (see examples documentation kde() krige().","code":""},{"path":"https://larmarange.github.io/prevR/dev/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Joseph Larmarange. Author, maintainer.","code":""},{"path":"https://larmarange.github.io/prevR/dev/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Larmarange J (????). prevR: Estimating Regional Trends Prevalence DHS Similar Surveys. R package version 5.0.0.9000, https://github.com/larmarange/prevR/. Larmarange J, Vallo R, Yaro S, Msellati P, Meda N (2011). “Methods mapping regional trends HIV prevalence Demographic Health Surveys (DHS).” Cybergeo: European Journal Geography. doi:10.4000/cybergeo.24606, https://journals.openedition.org/cybergeo/24606.","code":"@Manual{,   title = {prevR: Estimating Regional Trends of a Prevalence from a DHS and Similar Surveys},   author = {Joseph Larmarange},   note = {R package version 5.0.0.9000},   url = {https://github.com/larmarange/prevR/}, } @Article{,   title = {Methods for mapping regional trends of HIV prevalence from Demographic and Health Surveys (DHS)},   author = {Joseph Larmarange and Roselyne Vallo and Seydou Yaro and Philippe Msellati and Nicolas Meda},   journal = {Cybergeo: European Journal of Geography},   year = {2011},   number = {558},   url = {https://journals.openedition.org/cybergeo/24606},   doi = {10.4000/cybergeo.24606}, }"},{"path":"https://larmarange.github.io/prevR/dev/index.html","id":"prevr","dir":"","previous_headings":"","what":"Estimating Regional Trends of a Prevalence from a DHS and Similar Surveys","title":"Estimating Regional Trends of a Prevalence from a DHS and Similar Surveys","text":"package performs spatial estimation prevalence surface relative risks surface, using data Demographic Health Survey (DHS) analog survey.","code":""},{"path":"https://larmarange.github.io/prevR/dev/index.html","id":"methodological-paper","dir":"","previous_headings":"","what":"Methodological paper","title":"Estimating Regional Trends of a Prevalence from a DHS and Similar Surveys","text":"https://journals.openedition.org/cybergeo/24606","code":""},{"path":"https://larmarange.github.io/prevR/dev/index.html","id":"installation--documentation","dir":"","previous_headings":"","what":"Installation & Documentation","title":"Estimating Regional Trends of a Prevalence from a DHS and Similar Surveys","text":"install stable version: Documentation stable version: https://larmarange.github.io/prevR/ install development version: Documentation development version: https://larmarange.github.io/prevR/dev/","code":"install.packages(\"prevR\") remotes::install_github(\"larmarange/prevR\")"},{"path":"https://larmarange.github.io/prevR/dev/reference/Noptim.html","id":null,"dir":"Reference","previous_headings":"","what":"Suggested optimal value for N — Noptim","title":"Suggested optimal value for N — Noptim","text":"Based previous simulation work, function suggests optimal value N parameter based national prevalence, total number observations number clusters. See Larmarange et al. 2011 details.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/Noptim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Suggested optimal value for N — Noptim","text":"","code":"Noptim(object)"},{"path":"https://larmarange.github.io/prevR/dev/reference/Noptim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Suggested optimal value for N — Noptim","text":"object object class prevR.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/Noptim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Suggested optimal value for N — Noptim","text":"integer.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/Noptim.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Suggested optimal value for N — Noptim","text":"Larmarange Joseph, Vallo Roselyne, Yaro Seydou, Msellati Philippe Meda Nicolas (2011) \"Methods mapping regional trends HIV prevalence Demographic Health Surveys (DHS)\", Cybergeo: European Journal Geography, 558, https://journals.openedition.org/cybergeo/24606, DOI: 10.4000/cybergeo.24606.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/Noptim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Suggested optimal value for N — Noptim","text":"","code":"Noptim(fdhs) #> [1] 240"},{"path":"https://larmarange.github.io/prevR/dev/reference/TMWorldBorders.html","id":null,"dir":"Reference","previous_headings":"","what":"Dataset ","title":"Dataset ","text":"dataset provides boundaries countries world, decimal degrees. Available variables : \"FIPS\" FIPS 10-4 Country Code. \"ISO2\" ISO 3166-1 Alpha-2 Country Code. \"ISO3\" ISO 3166-1 Alpha-3 Country Code. \"UN\" ISO 3166-1 Numeric-3 Country Code. \"NAME\" Name country/area. \"AREA\" Land area, FAO Statistics (2002). \"POP2005\" Population, World Population Prospects (2005). \"REGION\" Macro geographical (continental region), UN Statistics. \"SUBREGION\" Geographical sub-region, UN Statistics. \"LON\" Longitude. \"LAT\" Latitude.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/TMWorldBorders.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Dataset ","text":"Object class sp::SpatialPolygonsDataFrame.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/TMWorldBorders.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Dataset ","text":"Provided Bjorn Sandvik dataset derived Schuyler Erle public domain sources. Sean Gilles clean made enhancements. dataset available Creative Commons Attribution-Share Alike License (https://creativecommons.org/licenses/-sa/3.0/).","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/TMWorldBorders.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Dataset ","text":"boundaries, names designations used imply official endorsement acceptance authors. Use dataset care, several borders disputed.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/TMWorldBorders.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Dataset ","text":"","code":"plot(TMWorldBorders[\"NAME\"])"},{"path":"https://larmarange.github.io/prevR/dev/reference/as.data.frame.prevR.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert an object of class prevR into a data.frame. — as.data.frame.prevR","title":"Convert an object of class prevR into a data.frame. — as.data.frame.prevR","text":"function merges slots clusters et rings object class prevR.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/as.data.frame.prevR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert an object of class prevR into a data.frame. — as.data.frame.prevR","text":"","code":"# S3 method for prevR as.data.frame(x, ..., N = NULL, R = NULL, clusters.only = FALSE)"},{"path":"https://larmarange.github.io/prevR/dev/reference/as.data.frame.prevR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert an object of class prevR into a data.frame. — as.data.frame.prevR","text":"x object class prevR. ... used, compatibility generic method base::.data.frame(). N integer list integers setting elements rings extract. R integer list integers setting elements rings extract. clusters.return slot clusters x?","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/as.data.frame.prevR.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert an object of class prevR into a data.frame. — as.data.frame.prevR","text":"clusters.= TRUE, function return slot clusters x. Otherwise, slots clusters rings x merged unique data frame. columns rings renamed adding suffix like .N300.RInf. N R define elements rings extract. specified (NULL), elements rings included.","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/as.data.frame.prevR.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert an object of class prevR into a data.frame. — as.data.frame.prevR","text":"","code":"str(fdhs) #> Formal class 'prevR' [package \"prevR\"] with 4 slots #>   ..@ clusters:'data.frame':\t401 obs. of  10 variables: #>   .. ..$ id    : int [1:401] 1 10 100 101 102 103 104 105 106 107 ... #>   .. ..$ x     : num [1:401] -1.21 -1.79 -2.29 -2.71 -1.96 ... #>   .. ..$ y     : num [1:401] 7.29 6.13 5.96 6.04 5.12 ... #>   .. ..$ n     : num [1:401] 23 22 22 28 21 21 11 24 23 15 ... #>   .. ..$ pos   : num [1:401] 0 0 0 0 3 4 0 1 0 0 ... #>   .. ..$ c.type: Factor w/ 2 levels \"Rural\",\"Urban\": 1 1 1 1 1 1 1 1 1 1 ... #>   .. ..$ wn    : num [1:401] 19.8 19.8 20.2 20.2 20.2 ... #>   .. ..$ wpos  : num [1:401] 0 0 0 0 2.88 ... #>   .. ..$ prev  : num [1:401] 0 0 0 0 14.3 ... #>   .. ..$ wprev : num [1:401] 0 0 0 0 14.3 ... #>   ..@ boundary:Classes ‘sf’ and 'data.frame':\t1 obs. of  1 variable: #>   .. ..$ geometry:sfc_POLYGON of length 1; first list element: List of 1 #>   .. .. ..$ : num [1:4056, 1:2] 1.28 1.25 1.23 1.22 1.22 ... #>   .. .. ..- attr(*, \"class\")= chr [1:3] \"XY\" \"POLYGON\" \"sfg\" #>   .. ..- attr(*, \"sf_column\")= chr \"geometry\" #>   .. ..- attr(*, \"agr\")= Factor w/ 3 levels \"constant\",\"aggregate\",..:  #>   .. .. ..- attr(*, \"names\")= chr(0)  #>   .. ..- attr(*, \"valid\")= logi TRUE #>   ..@ proj    :List of 2 #>   .. ..$ input: chr \"+proj=longlat +datum=WGS84\" #>   .. ..$ wkt  : chr \"GEOGCRS[\\\"unknown\\\",\\n    DATUM[\\\"World Geodetic System 1984\\\",\\n        ELLIPSOID[\\\"WGS 84\\\",6378137,298.25722\"| __truncated__ #>   .. ..- attr(*, \"class\")= chr \"crs\" #>   ..@ rings   : list() str(as.data.frame(fdhs)) #> 'data.frame':\t401 obs. of  10 variables: #>  $ id    : int  1 10 100 101 102 103 104 105 106 107 ... #>  $ x     : num  -1.21 -1.79 -2.29 -2.71 -1.96 ... #>  $ y     : num  7.29 6.13 5.96 6.04 5.12 ... #>  $ n     : num  23 22 22 28 21 21 11 24 23 15 ... #>  $ pos   : num  0 0 0 0 3 4 0 1 0 0 ... #>  $ c.type: Factor w/ 2 levels \"Rural\",\"Urban\": 1 1 1 1 1 1 1 1 1 1 ... #>  $ wn    : num  19.8 19.8 20.2 20.2 20.2 ... #>  $ wpos  : num  0 0 0 0 2.88 ... #>  $ prev  : num  0 0 0 0 14.3 ... #>  $ wprev : num  0 0 0 0 14.3 ... if (FALSE) { r.fdhs <- rings(fdhs, N = c(100, 200, 300)) str(r.fdhs) str(as.data.frame(r.fdhs, clusters.only = TRUE)) str(as.data.frame(r.fdhs)) str(as.data.frame(r.fdhs, N = 300)) }"},{"path":"https://larmarange.github.io/prevR/dev/reference/as.prevR.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an object of class prevR. — as.prevR","title":"Create an object of class prevR. — as.prevR","text":"function creates object class prevR data frame.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/as.prevR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an object of class prevR. — as.prevR","text":"","code":"as.prevR(data, col, boundary = NULL, proj = \"+proj=longlat +datum=WGS84\")"},{"path":"https://larmarange.github.io/prevR/dev/reference/as.prevR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an object of class prevR. — as.prevR","text":"data data frame, line corresponding observed cluster. col vector identifying columns data use.clusters columns names fixed: \"id\" (optional) cluster's identifier. \"x\" cluster's longitude. \"y\" cluster's latitude. \"n\" number valid observations cluster. \"pos\" number positive cases cluster. \"wn\" (optional) sum observations weight. \"wpos\" (optional) sum positive cases weight. \"c.type\" (optional) type cluster (used plot()). See examples. boundary object class sf::sf defining studied area. proj projection clusters coordinates used data (longitude latitude decimal degrees default). One () character: string accepted GDAL, (ii) integer, valid EPSG value (numeric), (iii) object class crs, see sf::st_crs().","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/as.prevR.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create an object of class prevR. — as.prevR","text":"Object class prevR","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/as.prevR.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create an object of class prevR. — as.prevR","text":"\"x\", \"y\" \"n\" \"pos\" required col. \"id\" specified, numerical identifier automatically created. boundary defined (NULL), rectangle corresponding minimal maximal coordinates data used. boundary result function create.boundary(). possible change projection data .prevR(). Use changeproj() instead.","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/as.prevR.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an object of class prevR. — as.prevR","text":"","code":"col <- c(   id = \"cluster\",   x = \"x\",   y = \"y\",   n = \"n\",   pos = \"pos\",   c.type = \"residence\",   wn = \"weighted.n\",   wpos = \"weighted.pos\" ) dhs <- as.prevR(fdhs.clusters, col, fdhs.boundary)  str(dhs) #> Formal class 'prevR' [package \"prevR\"] with 4 slots #>   ..@ clusters:'data.frame':\t401 obs. of  10 variables: #>   .. ..$ id    : int [1:401] 1 10 100 101 102 103 104 105 106 107 ... #>   .. ..$ x     : num [1:401] -1.21 -1.79 -2.29 -2.71 -1.96 ... #>   .. ..$ y     : num [1:401] 7.29 6.13 5.96 6.04 5.12 ... #>   .. ..$ n     : num [1:401] 23 22 22 28 21 21 11 24 23 15 ... #>   .. ..$ pos   : num [1:401] 0 0 0 0 3 4 0 1 0 0 ... #>   .. ..$ c.type: Factor w/ 2 levels \"Rural\",\"Urban\": 1 1 1 1 1 1 1 1 1 1 ... #>   .. ..$ wn    : num [1:401] 19.8 19.8 20.2 20.2 20.2 ... #>   .. ..$ wpos  : num [1:401] 0 0 0 0 2.88 ... #>   .. ..$ prev  : num [1:401] 0 0 0 0 14.3 ... #>   .. ..$ wprev : num [1:401] 0 0 0 0 14.3 ... #>   ..@ boundary:Classes ‘sf’ and 'data.frame':\t1 obs. of  1 variable: #>   .. ..$ geometry:sfc_POLYGON of length 1; first list element: List of 1 #>   .. .. ..$ : num [1:4056, 1:2] 1.28 1.25 1.23 1.22 1.22 ... #>   .. .. ..- attr(*, \"class\")= chr [1:3] \"XY\" \"POLYGON\" \"sfg\" #>   .. ..- attr(*, \"sf_column\")= chr \"geometry\" #>   .. ..- attr(*, \"agr\")= Factor w/ 3 levels \"constant\",\"aggregate\",..:  #>   .. .. ..- attr(*, \"names\")= chr(0)  #>   .. ..- attr(*, \"valid\")= logi TRUE #>   ..@ proj    :List of 2 #>   .. ..$ input: chr \"+proj=longlat +datum=WGS84\" #>   .. ..$ wkt  : chr \"GEOGCRS[\\\"unknown\\\",\\n    DATUM[\\\"World Geodetic System 1984\\\",\\n        ELLIPSOID[\\\"WGS 84\\\",6378137,298.25722\"| __truncated__ #>   .. ..- attr(*, \"class\")= chr \"crs\" #>   ..@ rings   : list() print(dhs) #> Object of class 'prevR' #> Number of clusters: 401 #> Number of observations: 8000 #> Number of positive cases: 810 #> The dataset is weighted. #>  #> National prevalence: 10.12% #> National weighted prevalence: 10.16% #>  #> Projection used: +proj=longlat +datum=WGS84 #>  #> Coordinate range #>        min     max #> x -5.37750  3.6850 #> y  4.80326 14.1225 #>  #> Boundary coordinate range #>      xmin      ymin      xmax      ymax  #> -5.518916  4.736723  3.851701 15.082593"},{"path":"https://larmarange.github.io/prevR/dev/reference/changeproj-prevR-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert map projection of a object of class prevR. — changeproj,prevR-method","title":"Convert map projection of a object of class prevR. — changeproj,prevR-method","text":"function converts map projection (/datum) used object class prevR another one.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/changeproj-prevR-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert map projection of a object of class prevR. — changeproj,prevR-method","text":"","code":"# S4 method for prevR changeproj(object, proj)"},{"path":"https://larmarange.github.io/prevR/dev/reference/changeproj-prevR-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert map projection of a object of class prevR. — changeproj,prevR-method","text":"object object class prevR. proj new map projection. One () character: string accepted GDAL, (ii) integer, valid EPSG value (numeric), (iii) object class crs, see sf::st_crs().","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/changeproj-prevR-method.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert map projection of a object of class prevR. — changeproj,prevR-method","text":"Return object expressed projection proj.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/changeproj-prevR-method.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert map projection of a object of class prevR. — changeproj,prevR-method","text":"changeproj() transform columns  \"x\" \"y\" slot clusters object convert boundary using new map projection defined proj. applicable, slot rings recalculated.","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/changeproj-prevR-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert map projection of a object of class prevR. — changeproj,prevR-method","text":"","code":"print(fdhs) #> Object of class 'prevR' #> Number of clusters: 401 #> Number of observations: 8000 #> Number of positive cases: 810 #> The dataset is weighted. #>  #> National prevalence: 10.12% #> National weighted prevalence: 10.16% #>  #> Projection used: +proj=longlat +datum=WGS84 #>  #> Coordinate range #>        min     max #> x -5.37750  3.6850 #> y  4.80326 14.1225 #>  #> Boundary coordinate range #>      xmin      ymin      xmax      ymax  #> -5.518916  4.736723  3.851701 15.082593  plot(fdhs, axes = TRUE, main = \"Projection: longitude/latitude\")   fdhs2 <- changeproj(   fdhs,   \"+proj=utm +zone=30 +ellps=WGS84 +datum=WGS84 +units=m +no_defs\" ) print(fdhs2) #> Object of class 'prevR' #> Number of clusters: 401 #> Number of observations: 8000 #> Number of positive cases: 810 #> The dataset is weighted. #>  #> National prevalence: 10.12% #> National weighted prevalence: 10.16% #>  #> Projection used: +proj=utm +zone=30 +ellps=WGS84 +datum=WGS84 +units=m +no_defs #>  #> Coordinate range #>        min     max #> x 240094.2 1231995 #> y 531003.3 1562155 #>  #> Boundary coordinate range #>      xmin      ymin      xmax      ymax  #>  224228.1  523628.1 1251165.0 1669034.2  plot(fdhs2, axes = TRUE, main = \"Projection: UTM Zone 30\")"},{"path":"https://larmarange.github.io/prevR/dev/reference/create.boundary.html","id":null,"dir":"Reference","previous_headings":"","what":"Provide national boundaries of a country. — create.boundary","title":"Provide national boundaries of a country. — create.boundary","text":"function uses data set TMWorldBorders. One several countries can selected returned object class sp::SpatialPolygons.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/create.boundary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Provide national boundaries of a country. — create.boundary","text":"","code":"create.boundary(   countries = NULL,   multiple = FALSE,   proj = \"+proj=longlat +datum=WGS84\" )"},{"path":"https://larmarange.github.io/prevR/dev/reference/create.boundary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Provide national boundaries of a country. — create.boundary","text":"countries vector character string corresponding name countries want extract dataset. NULL, dialogue box appear order select desired country. multiple dialog box allow multiple selection (unused countries specified)? proj projection clusters coordinates used data (longitude latitude decimal degrees default). One () character: string accepted GDAL, (ii) integer, valid EPSG value (numeric), (iii) object class crs, see sf::st_crs().","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/create.boundary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Provide national boundaries of a country. — create.boundary","text":"Object class sp::SpatialPolygons.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/create.boundary.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Provide national boundaries of a country. — create.boundary","text":"result automatically plotted.","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/create.boundary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Provide national boundaries of a country. — create.boundary","text":"","code":"if (FALSE) { boundary <- create.boundary() } # \\dontshow{ par(ask = TRUE) # } boundary <- create.boundary(\"Burkina Faso\") #> Source: World Borders Dataset 0.3 (2008) #> Provided by Bjorn Sandvik, The dataset was derived by Schuyler Erle from public domain sources. #> Sean Gilles did some clean up and made some enhancements. #> The dataset is available under a Creative Commons Attribution-Share Alike License. #> https://creativecommons.org/licenses/by-sa/3.0/ #> The boundaries, names designations used do not imply official endorsement or acceptance by the authors.  boundary <- create.boundary(\"Burkina Faso\",   proj = \"+proj=utm +zone=30 +ellps=WGS84 +datum=WGS84 +units=m +no_defs\" ) #> Source: World Borders Dataset 0.3 (2008) #> Provided by Bjorn Sandvik, The dataset was derived by Schuyler Erle from public domain sources. #> Sean Gilles did some clean up and made some enhancements. #> The dataset is available under a Creative Commons Attribution-Share Alike License. #> https://creativecommons.org/licenses/by-sa/3.0/ #> The boundaries, names designations used do not imply official endorsement or acceptance by the authors.  boundary <- create.boundary(countries = c(\"Burkina Faso\", \"Ghana\", \"Benin\")) #> Source: World Borders Dataset 0.3 (2008) #> Provided by Bjorn Sandvik, The dataset was derived by Schuyler Erle from public domain sources. #> Sean Gilles did some clean up and made some enhancements. #> The dataset is available under a Creative Commons Attribution-Share Alike License. #> https://creativecommons.org/licenses/by-sa/3.0/ #> The boundaries, names designations used do not imply official endorsement or acceptance by the authors.  # \\dontshow{ par(ask = FALSE) # }"},{"path":"https://larmarange.github.io/prevR/dev/reference/direct.label_prevR.html","id":null,"dir":"Reference","previous_headings":"","what":"Direct label on a ggplot object — direct.label_prevR","title":"Direct label on a ggplot object — direct.label_prevR","text":"Direct label ggplot2 grouped plot","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/direct.label_prevR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Direct label on a ggplot object — direct.label_prevR","text":"","code":"direct.label_prevR(p, method = NULL, debug = FALSE)"},{"path":"https://larmarange.github.io/prevR/dev/reference/direct.label_prevR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Direct label on a ggplot object — direct.label_prevR","text":"p ggplot object. method Method direct labeling (see directlabels::direct.label()). debug Show debug output?","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/direct.label_prevR.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Direct label on a ggplot object — direct.label_prevR","text":"ggplot object direct labels added.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/direct.label_prevR.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Direct label on a ggplot object — direct.label_prevR","text":"function based similar directlabels::direct.label() except legend hidden.","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/export-prevR-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Export an object of class prevR. — export,prevR-method","title":"Export an object of class prevR. — export,prevR-method","text":"method used export object class prevR different formats (text, shapefile, dbase...)","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/export-prevR-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export an object of class prevR. — export,prevR-method","text":"","code":"# S4 method for prevR export(   object,   element,   format,   file,   N = NULL,   R = NULL,   clusters.only = FALSE,   ext = NULL,   sep = NULL,   dec = NULL,   ... )"},{"path":"https://larmarange.github.io/prevR/dev/reference/export-prevR-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export an object of class prevR. — export,prevR-method","text":"object object class prevR. element element export: \"clusters\" \"boundary\". format format: \"dbf\", \"txt\", csv\", \"csv2\" \"shp\" (unused element = \"boundary\"). file file name without extension. N integer list integers setting elements rings export (unused element=\"boundary\"). R integer list integers setting elements rings export (unused element=\"boundary\"). clusters.export slot clusters object (unused element=\"boundary\")? ext coerce extension export file (unused element=\"boundary\" format=\"shp\"). sep coerce field separator string (unused element=\"boundary\" format=\"shp\" format=\"dbf\"). dec coerce string use decimal point (unused element=\"boundary\" format=\"shp\" format=\"dbf\"). ... additional arguments transmitted sf::st_write, foreign::write.dbf() utils::write.table().","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/export-prevR-method.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Export an object of class prevR. — export,prevR-method","text":"element=\"boundary\", slot boundary object exported shapefile. Otherwise, slot clusters, merged slot rings, exported. See .data.frame() details use parameters N, R et clusters.. format specifies export format data frame returned .data.frame(): ext used coerce extension output file, except shapefile export, write four different files (.shp, .shx, .dbf .prj). \"txt\" format uses default tabulation field separator point \".\" decimal point. \"csv\" format uses comma \",\" field separator point \".\" decimal point. \"csv2\" format variant using semicolon \";\" field separator colon \",\" decimal point, Excel convention CSV files Western European locales. sep dec used coerce field separator decimal point (together \"txt\" format).","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/export-prevR-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Export an object of class prevR. — export,prevR-method","text":"","code":"if (FALSE) { export(fdhs, element = \"boundary\", file = \"area\") export(fdhs, element = \"clusters\", format = \"shp\", file = \"points\")  dhs <- rings(fdhs, N = c(100, 300, 500)) export(dhs, element = \"clusters\", format = \"csv\", N = 300, file = \"points\") }"},{"path":"https://larmarange.github.io/prevR/dev/reference/fdhs.html","id":null,"dir":"Reference","previous_headings":"","what":"Fictitious data generated by a DHS simulation. — fdhs","title":"Fictitious data generated by a DHS simulation. — fdhs","text":"Data set generated Demographic Health Survey (DHS) simulation fictitious country national prevalence 10\\ surveyed, distributed 401 clusters. dataset composed 3 objects: fdhs.clusters: data frame (one line per cluster). fdhs.boundary: object class sp::SpatialPolygons corresponding borders fictitious country. fdhs: object class prevR returned .prevR() using two previous objects.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/fdhs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fictitious data generated by a DHS simulation. — fdhs","text":"","code":"if (FALSE) { str(fdhs) str(fdhs.clusters) str(fdhs.boundary) demo(prevR) }"},{"path":"https://larmarange.github.io/prevR/dev/reference/import.dhs.html","id":null,"dir":"Reference","previous_headings":"","what":"Import DHS data. — import.dhs","title":"Import DHS data. — import.dhs","text":"step step function guides users import data Demographic Health Survey (DHS) create object class prevR.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/import.dhs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Import DHS data. — import.dhs","text":"","code":"import.dhs(file.sav, file.dbf)"},{"path":"https://larmarange.github.io/prevR/dev/reference/import.dhs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Import DHS data. — import.dhs","text":"file.sav DHS data (one individual per line) SPSS format (.sav), downloaded https://www.dhsprogram.com/. also directly data.frame. file.dbf GPS position clusters DATABASE format (.dbf), downloaded https://www.dhsprogram.com/. also directly data.frame.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/import.dhs.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Import DHS data. — import.dhs","text":"provide precise path files, R check working directory (see base::setwd()). specify file path, see base::file.path(). function developed specifically importing DHS. generic function creating object class prevR, see .prevR().","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/import.dhs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Import DHS data. — import.dhs","text":"","code":"if (FALSE) { imported_data <- import.dhs(\"data.sav\", \"gps.dbf\") }"},{"path":"https://larmarange.github.io/prevR/dev/reference/is.prevR.html","id":null,"dir":"Reference","previous_headings":"","what":"Test if an object is of class prevR. This function test if the class of an object is prevR. It could be used to test the slot rings or the slot boundary. — is.prevR","title":"Test if an object is of class prevR. This function test if the class of an object is prevR. It could be used to test the slot rings or the slot boundary. — is.prevR","text":"Test object class prevR. function test class object prevR. used test slot rings slot boundary.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/is.prevR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test if an object is of class prevR. This function test if the class of an object is prevR. It could be used to test the slot rings or the slot boundary. — is.prevR","text":"","code":"is.prevR(object, slot = NULL)"},{"path":"https://larmarange.github.io/prevR/dev/reference/is.prevR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test if an object is of class prevR. This function test if the class of an object is prevR. It could be used to test the slot rings or the slot boundary. — is.prevR","text":"object object test. slot \"clusters\", \"rings\",\"boundary\" \"proj\".","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/is.prevR.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test if an object is of class prevR. This function test if the class of an object is prevR. It could be used to test the slot rings or the slot boundary. — is.prevR","text":"TRUE FALSE","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/is.prevR.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Test if an object is of class prevR. This function test if the class of an object is prevR. It could be used to test the slot rings or the slot boundary. — is.prevR","text":"Slots rings boundary always present object class prevR, rings NULL boundary sf::sf object attribute named valid value FALSE (boundaries studied area specified explicitly). rings NULL, .prevR(object,\"rings\") return FALSE. boundary attribute valid equal FALSE, .prevR(object,\"boundary\") return FALSE.","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/is.prevR.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Test if an object is of class prevR. This function test if the class of an object is prevR. It could be used to test the slot rings or the slot boundary. — is.prevR","text":"","code":"col <- c(   id = \"cluster\",   x = \"x\",   y = \"y\",   n = \"n\",   pos = \"pos\",   c.type = \"residence\",   wn = \"weighted.n\",   wpos = \"weighted.pos\" ) dhs <- as.prevR(fdhs.clusters, col, fdhs.boundary)  is.prevR(dhs) #> [1] TRUE is.prevR(dhs, \"rings\") #> rings  #> FALSE  is.prevR(dhs, \"boundary\") #> boundary  #>     TRUE   dhs <- rings(dhs, N = 300) #> Progress of calculations: #>    |                                                                               |                                                                      |   0%   |                                                                               |=                                                                     |   1%   |                                                                               |=                                                                     |   2%   |                                                                               |==                                                                    |   2%   |                                                                               |==                                                                    |   3%   |                                                                               |===                                                                   |   4%   |                                                                               |===                                                                   |   5%   |                                                                               |====                                                                  |   5%   |                                                                               |====                                                                  |   6%   |                                                                               |=====                                                                 |   6%   |                                                                               |=====                                                                 |   7%   |                                                                               |=====                                                                 |   8%   |                                                                               |======                                                                |   8%   |                                                                               |======                                                                |   9%   |                                                                               |=======                                                               |   9%   |                                                                               |=======                                                               |  10%   |                                                                               |========                                                              |  11%   |                                                                               |========                                                              |  12%   |                                                                               |=========                                                             |  12%   |                                                                               |=========                                                             |  13%   |                                                                               |==========                                                            |  14%   |                                                                               |==========                                                            |  15%   |                                                                               |===========                                                           |  15%   |                                                                               |===========                                                           |  16%   |                                                                               |============                                                          |  16%   |                                                                               |============                                                          |  17%   |                                                                               |============                                                          |  18%   |                                                                               |=============                                                         |  18%   |                                                                               |=============                                                         |  19%   |                                                                               |==============                                                        |  19%   |                                                                               |==============                                                        |  20%   |                                                                               |==============                                                        |  21%   |                                                                               |===============                                                       |  21%   |                                                                               |===============                                                       |  22%   |                                                                               |================                                                      |  22%   |                                                                               |================                                                      |  23%   |                                                                               |=================                                                     |  24%   |                                                                               |=================                                                     |  25%   |                                                                               |==================                                                    |  25%   |                                                                               |==================                                                    |  26%   |                                                                               |===================                                                   |  26%   |                                                                               |===================                                                   |  27%   |                                                                               |===================                                                   |  28%   |                                                                               |====================                                                  |  28%   |                                                                               |====================                                                  |  29%   |                                                                               |=====================                                                 |  29%   |                                                                               |=====================                                                 |  30%   |                                                                               |=====================                                                 |  31%   |                                                                               |======================                                                |  31%   |                                                                               |======================                                                |  32%   |                                                                               |=======================                                               |  32%   |                                                                               |=======================                                               |  33%   |                                                                               |========================                                              |  34%   |                                                                               |========================                                              |  35%   |                                                                               |=========================                                             |  35%   |                                                                               |=========================                                             |  36%   |                                                                               |==========================                                            |  37%   |                                                                               |==========================                                            |  38%   |                                                                               |===========================                                           |  38%   |                                                                               |===========================                                           |  39%   |                                                                               |============================                                          |  39%   |                                                                               |============================                                          |  40%   |                                                                               |============================                                          |  41%   |                                                                               |=============================                                         |  41%   |                                                                               |=============================                                         |  42%   |                                                                               |==============================                                        |  42%   |                                                                               |==============================                                        |  43%   |                                                                               |===============================                                       |  44%   |                                                                               |===============================                                       |  45%   |                                                                               |================================                                      |  45%   |                                                                               |================================                                      |  46%   |                                                                               |=================================                                     |  47%   |                                                                               |=================================                                     |  48%   |                                                                               |==================================                                    |  48%   |                                                                               |==================================                                    |  49%   |                                                                               |===================================                                   |  49%   |                                                                               |===================================                                   |  50%   |                                                                               |===================================                                   |  51%   |                                                                               |====================================                                  |  51%   |                                                                               |====================================                                  |  52%   |                                                                               |=====================================                                 |  52%   |                                                                               |=====================================                                 |  53%   |                                                                               |======================================                                |  54%   |                                                                               |======================================                                |  55%   |                                                                               |=======================================                               |  55%   |                                                                               |=======================================                               |  56%   |                                                                               |========================================                              |  57%   |                                                                               |========================================                              |  58%   |                                                                               |=========================================                             |  58%   |                                                                               |=========================================                             |  59%   |                                                                               |==========================================                            |  59%   |                                                                               |==========================================                            |  60%   |                                                                               |==========================================                            |  61%   |                                                                               |===========================================                           |  61%   |                                                                               |===========================================                           |  62%   |                                                                               |============================================                          |  62%   |                                                                               |============================================                          |  63%   |                                                                               |=============================================                         |  64%   |                                                                               |=============================================                         |  65%   |                                                                               |==============================================                        |  65%   |                                                                               |==============================================                        |  66%   |                                                                               |===============================================                       |  67%   |                                                                               |===============================================                       |  68%   |                                                                               |================================================                      |  68%   |                                                                               |================================================                      |  69%   |                                                                               |=================================================                     |  69%   |                                                                               |=================================================                     |  70%   |                                                                               |=================================================                     |  71%   |                                                                               |==================================================                    |  71%   |                                                                               |==================================================                    |  72%   |                                                                               |===================================================                   |  72%   |                                                                               |===================================================                   |  73%   |                                                                               |===================================================                   |  74%   |                                                                               |====================================================                  |  74%   |                                                                               |====================================================                  |  75%   |                                                                               |=====================================================                 |  75%   |                                                                               |=====================================================                 |  76%   |                                                                               |======================================================                |  77%   |                                                                               |======================================================                |  78%   |                                                                               |=======================================================               |  78%   |                                                                               |=======================================================               |  79%   |                                                                               |========================================================              |  79%   |                                                                               |========================================================              |  80%   |                                                                               |========================================================              |  81%   |                                                                               |=========================================================             |  81%   |                                                                               |=========================================================             |  82%   |                                                                               |==========================================================            |  82%   |                                                                               |==========================================================            |  83%   |                                                                               |==========================================================            |  84%   |                                                                               |===========================================================           |  84%   |                                                                               |===========================================================           |  85%   |                                                                               |============================================================          |  85%   |                                                                               |============================================================          |  86%   |                                                                               |=============================================================         |  87%   |                                                                               |=============================================================         |  88%   |                                                                               |==============================================================        |  88%   |                                                                               |==============================================================        |  89%   |                                                                               |===============================================================       |  90%   |                                                                               |===============================================================       |  91%   |                                                                               |================================================================      |  91%   |                                                                               |================================================================      |  92%   |                                                                               |=================================================================     |  92%   |                                                                               |=================================================================     |  93%   |                                                                               |=================================================================     |  94%   |                                                                               |==================================================================    |  94%   |                                                                               |==================================================================    |  95%   |                                                                               |===================================================================   |  95%   |                                                                               |===================================================================   |  96%   |                                                                               |====================================================================  |  97%   |                                                                               |====================================================================  |  98%   |                                                                               |===================================================================== |  98%   |                                                                               |===================================================================== |  99%   |                                                                               |======================================================================| 100% is.prevR(dhs, \"rings\") #> rings  #>  TRUE"},{"path":"https://larmarange.github.io/prevR/dev/reference/kde-prevR-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Kernel density estimation for prevR object. — kde,prevR-method","title":"Kernel density estimation for prevR object. — kde,prevR-method","text":"function allows calculate prevalence surface (ratio two intensity surfaces) /relative risks surface (ratio two density surfaces) using gaussian kernel estimators adaptative bandwidths equal number observations equal radius.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/kde-prevR-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Kernel density estimation for prevR object. — kde,prevR-method","text":"","code":"# S4 method for prevR kde(   object,   N = NULL,   R = NULL,   weighted = TRUE,   risk.ratio = FALSE,   keep.details = FALSE,   nb.cells = 100,   cell.size = NULL,   progression = TRUE,   short.names = FALSE )"},{"path":"https://larmarange.github.io/prevR/dev/reference/kde-prevR-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Kernel density estimation for prevR object. — kde,prevR-method","text":"object object class prevR. N integer list integers corresponding rings use. R integer list integers corresponding rings use. weighted use weighted data (TRUE, FALSE 2)? risk.ratio calculate relative risks surface instead prevalence surface (TRUE, FALSE 2)? keep.details return surface positive cases surface observed cases? nb.cells number cells longest side studied area (unused cell.size defined). cell.size size cell (unit projection). progression show progress bar? short.names names output short?","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/kde-prevR-method.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Kernel density estimation for prevR object. — kde,prevR-method","text":"Object class sf::sf. Surfaces named according name corresponding N R (example: k.prev.N300.RInf). short.names TRUE one combination couples (N, R), variable names suffixed value N R. Estimated variables (depending function parameters) : \"k.pos\" unweighted intensity surface positive cases. \"k.obs\" unweighted intensity surface observed cases. \"k.prev\" unweighted surface prevalence (k.pos/k.obs). \"k.case\" unweighted density surface positive cases. \"k.control\" unweighted density surface observed cases. \"k.rr\" unweighted surface relative risks (k.case/k.control). \"k.wpos\" weighted intensity surface positive cases. \"k.wobs\" weighted intensity surface observed cases. \"k.wprev\" weighted surface prevalence (k.wpos/k.wobs). \"k.wcase\" weighted density surface positive cases. \"k.wcontrol\" weighted density surface observed cases. \"k.wrr\" weighted surface relative risks (k.wcase/k.wcontrol).","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/kde-prevR-method.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Kernel density estimation for prevR object. — kde,prevR-method","text":"function calculates prevalence surface ratio intensity surface (expressed cases per surface unit) positive cases intensity surface observed cases also calculate relative risks surface corresponding ratio density surface (whose integral normalized one) positive cases density surface observed cases. method variant nearest neighbor technique. Surfaces estimated using gaussian kernel estimators adaptative bandwidths, bandwidth size determined minimum number observations neighborhood (see rings() details). Fixed bandwidths also used. precisely, bandwidth used half radius rings equal number observations equal radius (parameters N R) calculated ' function rings(). See references detailed explanation implemented methodology. N R determine rings use estimation. defined, surfaces estimated available couples (N,R) available object. Several estimations simultaneously calculated several values N R defined. suggested value N computed Noptim().","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/kde-prevR-method.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Kernel density estimation for prevR object. — kde,prevR-method","text":"Results plotted sf::plot() ggplot2 using ggplot2::geom_sf(). See examples. prevR provides several continuous color palettes (see prevR.colors). Results turned stars raster using stars::st_rasterize(). export ASCII grid, rasterize results stars::st_rasterize(), convert SpatRast terra::rast(), extract desired layer [[]] use terra::writeRaster(). See examples. See package sparr another methodology estimate relative risks surfaces, adapted kind data Demographic Health Surveys (DHS).","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/kde-prevR-method.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Kernel density estimation for prevR object. — kde,prevR-method","text":"Larmarange Joseph, Vallo Roselyne, Yaro Seydou, Msellati Philippe Meda Nicolas (2011) \"Methods mapping regional trends HIV prevalence Demographic Health Surveys (DHS)\", Cybergeo: European Journal Geography, 558, https://journals.openedition.org/cybergeo/24606, DOI: 10.4000/cybergeo.24606.","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/kde-prevR-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Kernel density estimation for prevR object. — kde,prevR-method","text":"","code":"if (FALSE) { dhs <- rings(fdhs, N = c(100, 200, 300, 400, 500))  prev.N300 <- kde(dhs, N = 300, nb.cells = 200)  plot(prev.N300, lty = 0)  library(ggplot2) ggplot(prev.N300) +   aes(fill = k.wprev.N300.RInf) +   geom_sf(colour = \"transparent\") +   scale_fill_gradientn(colors = prevR.colors.red()) +   theme_prevR_light()  # Export k.wprev.N300.RInf surface in ASCII Grid r <- terra::rast(stars::st_rasterize(prev.N300)) # writeRaster(r[[2]], \"kprev.N300.asc\") }"},{"path":"https://larmarange.github.io/prevR/dev/reference/krige-ANY-prevR-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Spatial interpolation (kriging and inverse distance weighting) for objects of class prevR. — krige,ANY,prevR-method","title":"Spatial interpolation (kriging and inverse distance weighting) for objects of class prevR. — krige,ANY,prevR-method","text":"functions execute spatial interpolation variable slot rings object class prevR. method krige() implements ordinary kriging technique. method idw() executes inverse distance weighting interpolation.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/krige-ANY-prevR-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Spatial interpolation (kriging and inverse distance weighting) for objects of class prevR. — krige,ANY,prevR-method","text":"","code":"# S4 method for ANY,prevR krige(   formula,   locations,   N = NULL,   R = Inf,   model = NULL,   nb.cells = 100,   cell.size = NULL,   fit = \"auto\",   keep.variance = FALSE,   show.variogram = FALSE,   ... )  # S4 method for ANY,prevR idw(   formula,   locations,   N = NULL,   R = Inf,   nb.cells = 100,   cell.size = NULL,   idp = 2,   ... )"},{"path":"https://larmarange.github.io/prevR/dev/reference/krige-ANY-prevR-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Spatial interpolation (kriging and inverse distance weighting) for objects of class prevR. — krige,ANY,prevR-method","text":"formula variable(s) interpolate (see details). locations object class prevR. N integer list integers corresponding rings use. R integer list integers corresponding rings use. model variogram model returned function gstat::vgm(). nb.cells number cells longest side studied area (unused cell.size defined). cell.size size cell (unit projection). fit \"auto\" using variogram automatically fitted data, model defined (NULL). keep.variance return variance estimates? show.variogram plot variogram? ... additional arguments transmitted gstat::krige() gstat::idw(). idp inverse distance weighting power (see gstat::idw()).","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/krige-ANY-prevR-method.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Spatial interpolation (kriging and inverse distance weighting) for objects of class prevR. — krige,ANY,prevR-method","text":"Object class sf::sf. name estimated surfaces depends name interpolated variable, N R (example: r.radius.N300.RInf). ask function return variance (keep.variance=TRUE), corresponding surfaces names suffix .var.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/krige-ANY-prevR-method.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Spatial interpolation (kriging and inverse distance weighting) for objects of class prevR. — krige,ANY,prevR-method","text":"formula specifies variable(s) interpolate. variables available slot rings locations used. Possible values \"r.pos\", \"r.n\", \"r.prev\", \"r.radius\", \"r.clusters\", \"r.wpos\", \"r.wn\" \"r.wprev\". Variables specified character string formula (example: list(r.pos ~ 1, r.prev ~ 1}. formula like variable.name ~ 1 accepted. complex interpolations, use directly functions gstat::krige() gstat::idw() gstat. N R determine rings use interpolation. defined, surfaces estimated available couples (N,R). Several interpolations simultaneously calculated several variables /several values N R defined. suggested value N computed Noptim(). case ordinary kriging, method krige() prevR try fit automatically exponential variogram sample variogram (fit = \"auto\"). can also specify directly variogram use parameter model. Interpolations calculated spatial grid obtained make.grid.prevR().","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/krige-ANY-prevR-method.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Spatial interpolation (kriging and inverse distance weighting) for objects of class prevR. — krige,ANY,prevR-method","text":"Results plotted sf::plot() ggplot2 using ggplot2::geom_sf(). See examples. prevR provides several continuous color palettes (see prevR.colors). Results turned stars raster using stars::st_rasterize(). export ASCII grid, rasterize results stars::st_rasterize(), convert SpatRast terra::rast(), extract desired layer [[]] use terra::writeRaster(). See examples.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/krige-ANY-prevR-method.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Spatial interpolation (kriging and inverse distance weighting) for objects of class prevR. — krige,ANY,prevR-method","text":"Larmarange Joseph, Vallo Roselyne, Yaro Seydou, Msellati Philippe Meda Nicolas (2011) \"Methods mapping regional trends HIV prevalence Demographic Health Surveys (DHS)\", Cybergeo: European Journal Geography, 558, https://journals.openedition.org/cybergeo/24606, DOI: 10.4000/cybergeo.24606.","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/krige-ANY-prevR-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Spatial interpolation (kriging and inverse distance weighting) for objects of class prevR. — krige,ANY,prevR-method","text":"","code":"if (FALSE) {     dhs <- rings(fdhs, N = c(100,200,300,400,500))     radius.N300 <- krige('r.radius', dhs, N = 300, nb.cells = 50)     prev.krige <- krige(r.wprev ~ 1, dhs, N = c(100, 300, 500))      plot(prev.krige, lty = 0)      library(ggplot2)     ggplot(prev.krige) +       aes(fill = r.wprev.N300.RInf) +       geom_sf(colour = \"transparent\") +       scale_fill_gradientn(colors = prevR.colors.red()) +       theme_prevR_light()      # Export r.wprev.N300.RInf surface in ASCII Grid     r <- terra::rast(stars::st_rasterize(prev.krige))     # writeRaster(r[[2]], \"wprev.N300.asc\")   }"},{"path":"https://larmarange.github.io/prevR/dev/reference/make.grid.prevR.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a spatial grid from an object of class prevR. — make.grid.prevR","title":"Create a spatial grid from an object of class prevR. — make.grid.prevR","text":"function generates spatial rectangular grid slot boundary object class prevR; function used particular methods kde(), krige() idw().","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/make.grid.prevR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a spatial grid from an object of class prevR. — make.grid.prevR","text":"","code":"make.grid.prevR(object, nb.cells = 100, cell.size = NULL)"},{"path":"https://larmarange.github.io/prevR/dev/reference/make.grid.prevR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a spatial grid from an object of class prevR. — make.grid.prevR","text":"object object class prevR. nb.cells number cells longest side studied area (unused cell.size defined). cell.size size cell (unit projection).","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/make.grid.prevR.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a spatial grid from an object of class prevR. — make.grid.prevR","text":"Object class sf::sfc (simple feature geometry list column).","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/make.grid.prevR.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a spatial grid from an object of class prevR. — make.grid.prevR","text":"function generates spatial rectangular grid, cell corresponding center square side cell.size. cell.size defined, side cells calculated longest side slot boundary object divided nb.cells.","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/make.grid.prevR.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a spatial grid from an object of class prevR. — make.grid.prevR","text":"","code":"make.grid.prevR(fdhs) #> Geometry set for 9100 features  #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -5.467429 ymin: 4.788452 xmax: 3.800214 ymax: 15.03086 #> Geodetic CRS:  +proj=longlat +datum=WGS84 #> First 5 geometries: #> POINT (-5.467429 4.788452) #> POINT (-5.364455 4.788452) #> POINT (-5.261481 4.788452) #> POINT (-5.158508 4.788452) #> POINT (-5.055534 4.788452) make.grid.prevR(fdhs, nb.cells = 200) #> Geometry set for 36400 features  #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: -5.493173 ymin: 4.762588 xmax: 3.825958 ymax: 15.05673 #> Geodetic CRS:  +proj=longlat +datum=WGS84 #> First 5 geometries: #> POINT (-5.493173 4.762588) #> POINT (-5.441686 4.762588) #> POINT (-5.390199 4.762588) #> POINT (-5.338712 4.762588) #> POINT (-5.287225 4.762588)"},{"path":"https://larmarange.github.io/prevR/dev/reference/plot-prevR-missing-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot object of class prevR. — plot,prevR,missing-method","title":"Plot object of class prevR. — plot,prevR,missing-method","text":"Method plot object class prevR. Plot clusters, number observations per cluster number positive cases per cluster.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/plot-prevR-missing-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot object of class prevR. — plot,prevR,missing-method","text":"","code":"# S4 method for prevR,missing plot(   x,   type = \"position\",   add.legend = TRUE,   legend.location = \"bottomright\",   factor.size = 0.2,   new.window = FALSE,   axes = FALSE,   ... )"},{"path":"https://larmarange.github.io/prevR/dev/reference/plot-prevR-missing-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot object of class prevR. — plot,prevR,missing-method","text":"x object class prevR. type graph plot: \"position\" clusters position. \"c.type\" clusters per c.type. \"count\" number observations per cluster. \"flower\" number positive cases per cluster. add.legend add legend? legend.location legend location. factor.size scale factor rings (type=\"count\"). new.window plot new window? axes show axes? ... additional arguments transmitted graphics::title().","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/plot-prevR-missing-method.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot object of class prevR. — plot,prevR,missing-method","text":"Available values legend.location : \"bottomright\", \"bottom\", \"bottomleft\", \"left\", \"topleft\", \"top\", \"topright\", \"right\" use \"center\". Use main define title sub subtitle (see graphics::title()).","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/plot-prevR-missing-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot object of class prevR. — plot,prevR,missing-method","text":"","code":"# \\dontshow{ par(ask = TRUE) # } plot(fdhs, type = \"position\", main = \"position\", axes = TRUE)  plot(fdhs, type = \"c.type\", main = \"c.type\")  plot(fdhs, type = \"count\", main = \"count\", factor.size = 0.1)  plot(fdhs, type = \"flower\", main = \"flower\")  # \\dontshow{ par(ask = FALSE) # }"},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR-class.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects of class prevR. — prevR-class","title":"Objects of class prevR. — prevR-class","text":"Class used package prevR","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR-class.html","id":"slots","dir":"Reference","previous_headings":"","what":"Slots","title":"Objects of class prevR. — prevR-class","text":"clusters data.frame observed data (one line per cluster). Columns names : \"id\" cluster ID. \"x\" longitude. \"y\" latitude. \"n\" number valid observations per cluster. \"pos\" number positive cases per cluster. \"prev\" observed prevalence (%) cluster (pos/n). \"wn\" (optional) sum weights observations per cluster. \"wpos\" (optional) sum weights positive cases per cluster. \"wprev\" (optional) weighted observed prevalence (%) cluster (wpos/wn). \"c.type\" (optional) cluster type. boundary object class sf::sf, borders studied area. proj object class sf::crs, map projection used. rings list results returned rings(). entry composed 3 elements: N, minimum number observations per ring; R, maximum radius rings estimates, data frame following variables: \"id\" cluster ID. \"r.pos\" number positive cases inside ring. \"r.n\" number valid observations inside ring. \"r.prev\" observed prevalence (\\ \"r.radius\" ring radius (kilometers coordinates decimal degrees, unit projection otherwise). \"r.clusters\" number clusters located inside ring. \"r.wpos\" (optional) sum weights positive cases inside ring. \"r.wn\" (optional) sum weights valid observations inside ring. \"r.wprev\" (optional) weighted observed prevalence (%) inside ring (r.wpos/r.wn). Note: list rings named, name element NN_value.RR_value, example N300.RInf.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR-class.html","id":"objects-from-the-class","dir":"Reference","previous_headings":"","what":"Objects from the Class","title":"Objects of class prevR. — prevR-class","text":"Objects class created function .prevR().","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR-class.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"Objects of class prevR. — prevR-class","text":".data.frame signature(x = \"prevR\") converts object class prevR data frame. .SpatialGrid signature(object = \"prevR\") generates spatial grid. export signature(object = \"prevR\") exports prevR object shapefile, dbase file text file. idw signature(formula = \"\", locations = \"prevR\") calculates spatial interpolation using inverse distance weighting. kde signature(object = \"prevR\") estimates prevalence surface using kernel density estimators. krige signature(formula = \"\", locations = \"prevR\") calculates spatial interpolation kriging. plot signature(x = \"prevR\", y = \"\") plots data prevR object. print signature(x = \"prevR\") shows summary prevR object. rings signature(object = \"prevR\") calculates rings equal number observations /equal radius. show signature(object = \"prevR\") shows summary prevR object. summary signature(object = \"prevR\") shows summary variables prevR object. changeproj signature(object = \"prevR\") changes map projection used.","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR-class.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Objects of class prevR. — prevR-class","text":"","code":"showClass(\"prevR\") #> Class \"prevR\" [package \"prevR\"] #>  #> Slots: #>                                                    #> Name:    clusters   boundary       proj      rings #> Class: data.frame         sf        crs       list  col <- c(   id = \"cluster\",   x = \"x\",   y = \"y\",   n = \"n\",   pos = \"pos\",   c.type = \"residence\",   wn = \"weighted.n\",   wpos = \"weighted.pos\" ) dhs <- as.prevR(fdhs.clusters, col, fdhs.boundary) str(dhs) #> Formal class 'prevR' [package \"prevR\"] with 4 slots #>   ..@ clusters:'data.frame':\t401 obs. of  10 variables: #>   .. ..$ id    : int [1:401] 1 10 100 101 102 103 104 105 106 107 ... #>   .. ..$ x     : num [1:401] -1.21 -1.79 -2.29 -2.71 -1.96 ... #>   .. ..$ y     : num [1:401] 7.29 6.13 5.96 6.04 5.12 ... #>   .. ..$ n     : num [1:401] 23 22 22 28 21 21 11 24 23 15 ... #>   .. ..$ pos   : num [1:401] 0 0 0 0 3 4 0 1 0 0 ... #>   .. ..$ c.type: Factor w/ 2 levels \"Rural\",\"Urban\": 1 1 1 1 1 1 1 1 1 1 ... #>   .. ..$ wn    : num [1:401] 19.8 19.8 20.2 20.2 20.2 ... #>   .. ..$ wpos  : num [1:401] 0 0 0 0 2.88 ... #>   .. ..$ prev  : num [1:401] 0 0 0 0 14.3 ... #>   .. ..$ wprev : num [1:401] 0 0 0 0 14.3 ... #>   ..@ boundary:Classes ‘sf’ and 'data.frame':\t1 obs. of  1 variable: #>   .. ..$ geometry:sfc_POLYGON of length 1; first list element: List of 1 #>   .. .. ..$ : num [1:4056, 1:2] 1.28 1.25 1.23 1.22 1.22 ... #>   .. .. ..- attr(*, \"class\")= chr [1:3] \"XY\" \"POLYGON\" \"sfg\" #>   .. ..- attr(*, \"sf_column\")= chr \"geometry\" #>   .. ..- attr(*, \"agr\")= Factor w/ 3 levels \"constant\",\"aggregate\",..:  #>   .. .. ..- attr(*, \"names\")= chr(0)  #>   .. ..- attr(*, \"valid\")= logi TRUE #>   ..@ proj    :List of 2 #>   .. ..$ input: chr \"+proj=longlat +datum=WGS84\" #>   .. ..$ wkt  : chr \"GEOGCRS[\\\"unknown\\\",\\n    DATUM[\\\"World Geodetic System 1984\\\",\\n        ELLIPSOID[\\\"WGS 84\\\",6378137,298.25722\"| __truncated__ #>   .. ..- attr(*, \"class\")= chr \"crs\" #>   ..@ rings   : list() print(dhs) #> Object of class 'prevR' #> Number of clusters: 401 #> Number of observations: 8000 #> Number of positive cases: 810 #> The dataset is weighted. #>  #> National prevalence: 10.12% #> National weighted prevalence: 10.16% #>  #> Projection used: +proj=longlat +datum=WGS84 #>  #> Coordinate range #>        min     max #> x -5.37750  3.6850 #> y  4.80326 14.1225 #>  #> Boundary coordinate range #>      xmin      ymin      xmax      ymax  #> -5.518916  4.736723  3.851701 15.082593   if (FALSE) { dhs <- rings(fdhs, N = c(100, 300, 500)) str(dhs) print(dhs) }"},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimating regional trends of a prevalence from a DHS. — prevR-package","title":"Estimating regional trends of a prevalence from a DHS. — prevR-package","text":"prevR allows spatial estimation prevalence surface relative risks surface, using data Demographic Health Survey (DHS) analog survey.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimating regional trends of a prevalence from a DHS. — prevR-package","text":"package performs methodological approach spatial estimation regional trends prevalence using data surveys using stratified two-stage sample design (Demographic Health Surveys). kind surveys, positive control cases spatially positioned centre corresponding surveyed cluster. package provides functions estimate prevalence surface using kernel estimator adaptative bandwidths equal number persons surveyed (variant nearest neighbor technique) fixed bandwidths. prevalence surface also calculated using spatial interpolation (kriging inverse distance weighting) moving average smoothing based circles equal number observed persons circles equal radius. kernel estimator approach, also possible estimate surface relative risks. quick demo, enter quick.prevR(fdhs). full demo, enter demo(prevR). content prevR can broken follows: Datasetsfdhs fictive dataset used testing package.TMWorldBorders provides national borders every countries World used define limits studied area. Creating objectsprevR functions takes input objects class prevR.import.dhs() allows import easily, step step procedure, data DHS (Demographic Health Surveys) downloaded http://www.measuredhs.com..prevR() generic function create object class prevR.create.boundary() used select borders country transfer .prevR() order define studied area. Data visualization Methods show(), print() summary() display summary object class prevR. method plot() used object class prevR visualizing studied area, spatial position clusters, number observations number positive cases cluster. Data manipulation method changeproj() changes projection spatial coordinates. method .data.frame() converts object class prevR data frame. method export() export data /studied area text file, dbf file shapefile. Data analysisrings() calculates rings equal number observations /equal radius.kde() calculates prevalence surface relative risks surface using gaussian kernel density estimators (kde) adaptative bandwidths.krige() executes spatial interpolation using ordinary kriging.idw() executes spatial interpolation using inverse distance weighting (idw) technique.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR-package.html","id":"acknowledgment","dir":"Reference","previous_headings":"","what":"Acknowledgment","title":"Estimating regional trends of a prevalence from a DHS. — prevR-package","text":"prevR developed funding French National Agency Research AIDS Viral Hepatitis (ANRS - http://www.anrs.fr) French Research Institute Sustainable Development (IRD - https://www.ird.fr), technical support LYSIS (info@lysis-consultants.fr).","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR-package.html","id":"citation","dir":"Reference","previous_headings":"","what":"Citation","title":"Estimating regional trends of a prevalence from a DHS. — prevR-package","text":"cite prevR: Larmarange Joseph, Vallo Roselyne, Yaro Seydou, Msellati Philippe Meda Nicolas (2011) \"Methods mapping regional trends HIV prevalence Demographic Health Surveys (DHS)\", Cybergeo: European Journal Geography, 558, https://journals.openedition.org/cybergeo/24606, DOI: 10.4000/cybergeo.24606.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Estimating regional trends of a prevalence from a DHS. — prevR-package","text":"Larmarange Joseph Bendaud Victoria (2014) \"HIV estimates second subnational level national population-based survey\", AIDS, n° 28, p. S469-S476, DOI: 10.1097/QAD.0000000000000480 Larmarange Joseph, Vallo Roselyne, Yaro Seydou, Msellati Philippe Meda Nicolas (2011) \"Methods mapping regional trends HIV prevalence Demographic Health Surveys (DHS)\", Cybergeo: European Journal Geography, n° 558, https://journals.openedition.org/cybergeo/24606, DOI: 10.4000/cybergeo.24606 Larmarange Joseph (2007) Prévalences du VIH en Afrique : validité d'une mesure, PhD thesis demography, directed Benoît Ferry, université Paris Descartes, https://theses.hal.science/tel-00320283. Larmarange Joseph, Vallo Roselyne, Yaro Seydou, Msellati Philippe Meda Nicolas Ferry Benoît (2006), \"Cartographier les données des enquêtes démographiques et de santé à partir des coordonnées des zones d'enquête\", Chaire Quételet, 29 novembre au 1er décembre 2006, Université Catholique de Louvain, Louvain-la-Neuve, Belgique.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Estimating regional trends of a prevalence from a DHS. — prevR-package","text":"Joseph Larmarange joseph.larmarange@ird.fr IRD - CEPED (UMR 196 Université Paris Descartes Ined IRD)","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR-package.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Estimating regional trends of a prevalence from a DHS. — prevR-package","text":"","code":"if (FALSE) { par(ask = TRUE) # Creating an object of class prevR col <- c(   id = \"cluster\",   x = \"x\",   y = \"y\",   n = \"n\",   pos = \"pos\",   c.type = \"residence\",   wn = \"weighted.n\",   wpos = \"weighted.pos\" ) dhs <- as.prevR(fdhs.clusters, col, fdhs.boundary)  str(dhs) print(dhs)  plot(dhs, main = \"Clusters position\") plot(dhs, type = \"c.type\", main = \"Clusters by residence\") plot(dhs, type = \"count\", main = \"Observations by cluster\") plot(dhs, type = \"flower\", main = \"Positive cases by cluster\")  # Changing coordinates projection plot(dhs, axes = TRUE) dhs <- changeproj(   dhs,   \"+proj=utm +zone=30 +ellps=WGS84 +datum=WGS84 +units=m +no_defs\" ) print(dhs) plot(dhs, axes = TRUE)  # Calculating rings of equal number of observations for different values of N dhs <- rings(dhs, N = c(100, 200, 300, 400, 500)) print(dhs) summary(dhs)  # Prevalence surface for N=300 prev.N300 <- kde(dhs, N = 300, nb.cells = 200) plot(   prev.N300[\"k.wprev.N300.RInf\"],   pal = prevR.colors.red,   lty = 0,   main = \"Regional trends of prevalence (N=300)\" )  # Smoothing ring radii surface (spatial interpolation by kriging) radius.N300 <- krige(\"r.radius\", dhs, N = 300, nb.cells = 200) plot(   radius.N300,   pal = prevR.colors.blue,   lty = 0,   main = \"Radius of circle (N=300)\" ) par(ask = FALSE) }"},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR.colors.html","id":null,"dir":"Reference","previous_headings":"","what":"Continuous color palettes. — prevR.colors","title":"Continuous color palettes. — prevR.colors","text":"Functions generating color palettes usable R graphical functions. palettes continuous, contrast accentuated darkening lightening extreme values. prevR.demo.pal plot available palettes. prevR.colors.qgis.pal export palette text file readable Quantum GIS, open-source mapping software.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR.colors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Continuous color palettes. — prevR.colors","text":"","code":"prevR.colors.blue(n = 10)  prevR.colors.blue.inverse(n = 10)  prevR.colors.gray(n = 10)  prevR.colors.gray.inverse(n = 10)  prevR.colors.green(n = 10)  prevR.colors.green.inverse(n = 10)  prevR.colors.red(n = 10)  prevR.colors.red.inverse(n = 10)  prevR.demo.pal(n, border = if (n < 32) \"light gray\" else NA, main = NULL)  prevR.colors.qgis.pal(file, at, pal = \"red\", inverse = FALSE)"},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR.colors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Continuous color palettes. — prevR.colors","text":"n number different colors palette. border border color. main title. file file name extension. list values palette. pal color palette use (\"red\", \"green\", \"blue\" \"gray\"). inverse use inverse palette?","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR.colors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Continuous color palettes. — prevR.colors","text":"prevR.demo.pal() plot color palettes. prevR.colors.qgis.pal() export color palette text file readable Quantum GIS. functions return list colors coded hexadecimal.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR.colors.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Continuous color palettes. — prevR.colors","text":"prevR.colors.red() produces color gradation white/yellow red/dark red. prevR.colors.blue() produces color gradation light blue dark blue. prevR.colors.green() produces color gradation light green dark green. prevR.colors.gray() produces color gradation white/light gray dark gray/black. Functions suffix .inverse produce color gradation, dark colors light ones.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR.colors.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Continuous color palettes. — prevR.colors","text":"obtain list colors RGB (Red/Green/Blue), use function grDevices::col2rgb(). code prevR.demo.pal() adapted function demo.pal presented examples grDevices::rainbow().","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/prevR.colors.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Continuous color palettes. — prevR.colors","text":"","code":"prevR.demo.pal(25)  prevR.colors.red(5) #> [1] \"#FFFF80\" \"#FFFF00\" \"#FF8000\" \"#FF0000\" \"#800000\" col2rgb(prevR.colors.red(5)) #>       [,1] [,2] [,3] [,4] [,5] #> red    255  255  255  255  128 #> green  255  255  128    0    0 #> blue   128    0    0    0    0  if (FALSE) { prevR.colors.qgis.pal(\"palette.txt\", seq(0, 25, length.out = 100), \"red\") }"},{"path":"https://larmarange.github.io/prevR/dev/reference/print-prevR-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary of a prevR object. — print,prevR-method","title":"Summary of a prevR object. — print,prevR-method","text":"Method print objects class prevR: shows summary object's characteristics.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/print-prevR-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary of a prevR object. — print,prevR-method","text":"","code":"# S4 method for prevR print(x)"},{"path":"https://larmarange.github.io/prevR/dev/reference/print-prevR-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary of a prevR object. — print,prevR-method","text":"x object class prevR.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/print-prevR-method.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Summary of a prevR object. — print,prevR-method","text":"Exactly show().","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/print-prevR-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summary of a prevR object. — print,prevR-method","text":"","code":"print(fdhs) #> Object of class 'prevR' #> Number of clusters: 401 #> Number of observations: 8000 #> Number of positive cases: 810 #> The dataset is weighted. #>  #> National prevalence: 10.12% #> National weighted prevalence: 10.16% #>  #> Projection used: +proj=longlat +datum=WGS84 #>  #> Coordinate range #>        min     max #> x -5.37750  3.6850 #> y  4.80326 14.1225 #>  #> Boundary coordinate range #>      xmin      ymin      xmax      ymax  #> -5.518916  4.736723  3.851701 15.082593  if (FALSE) { dhs <- rings(fdhs, N = c(100, 300, 500)) print(dhs) }"},{"path":"https://larmarange.github.io/prevR/dev/reference/quick.prevR.html","id":null,"dir":"Reference","previous_headings":"","what":"Quick prevR analysis and plot — quick.prevR","title":"Quick prevR analysis and plot — quick.prevR","text":"function performs several analysis one go: () apply rings(); (ii) compute prevalence surface kde(); (iii) compute surface rings radii krige(); (iv) plot prevalence surface using prevR.colors.red() add rings radii contour plot.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/quick.prevR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Quick prevR analysis and plot — quick.prevR","text":"","code":"quick.prevR(   object,   N = Noptim(object),   nb.cells = 100,   cell.size = NULL,   weighted = NULL,   plot.results = TRUE,   return.results = FALSE,   return.plot = FALSE,   legend.title = \"%\",   cex = 0.7,   progression = TRUE )"},{"path":"https://larmarange.github.io/prevR/dev/reference/quick.prevR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Quick prevR analysis and plot — quick.prevR","text":"object object class prevR. N integer list integers corresponding rings use. nb.cells number cells longest side studied area (unused cell.size defined). cell.size size cell (unit projection). weighted use weighted data (TRUE, FALSE \"2\")? plot.results plot results? return.results return results? return.plot return plot within results? legend.title title legend cex control text size graph progression show progress bar?","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/quick.prevR.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Quick prevR analysis and plot — quick.prevR","text":"list one several elements, depending arguments: () prev SpatialPixelsDataFrame containing prevalence surface; (ii) radius SpatialPixelsDataFrame containing kriged surface rings radii; (iii) plot ggplot graph.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/quick.prevR.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Quick prevR analysis and plot — quick.prevR","text":"N determine rings use estimation. default, suggested value N computed Noptim().","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/quick.prevR.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Quick prevR analysis and plot — quick.prevR","text":"","code":"if (FALSE) { quick.prevR(fdhs) }"},{"path":"https://larmarange.github.io/prevR/dev/reference/rings-prevR-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculation of rings of equal number of observation and/or equal radius. — rings,prevR-method","title":"Calculation of rings of equal number of observation and/or equal radius. — rings,prevR-method","text":"cluster, function determines ring equal number observations /equal radius calculates several indicators observations located inside ring.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/rings-prevR-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculation of rings of equal number of observation and/or equal radius. — rings,prevR-method","text":"","code":"# S4 method for prevR rings(object, N = seq(100, 500, 50), R = Inf, progression = TRUE)"},{"path":"https://larmarange.github.io/prevR/dev/reference/rings-prevR-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculation of rings of equal number of observation and/or equal radius. — rings,prevR-method","text":"object object class prevR. N minimum number observations. R maximum rings radius (kilometers coordinates decimal degrees, unit projection otherwise). progression show progress bar?","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/rings-prevR-method.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculation of rings of equal number of observation and/or equal radius. — rings,prevR-method","text":"Return object slot rings completed couple (N,R). entry composed 3 elements: N, minimum number observations per ring; R, maximum radius rings estimates, data frame following variables: \"id\" cluster ID. \"r.pos\" number positive cases inside ring. \"r.n\" number valid observations inside ring. \"r.prev\" observed prevalence (%) inside ring (r.pos/r.n). \"r.radius\" ring radius (kilometers coordinates decimal degrees, unit projection otherwise). \"r.clusters\" number clusters located inside ring. \"r.wpos\" (optional) sum weights positive cases inside ring. \"r.wn\" (optional) sum weights valid observations inside ring. \"r.wprev\" (optional) weighted observed prevalence (%) inside ring (r.wpos/r.wn). Note: list rings named, name element NN_value.RR_value, example N300.RInf. Note 2: r.wpos, r.wn r.wprev calculated slot clusters object contains weighted data.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/rings-prevR-method.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculation of rings of equal number of observation and/or equal radius. — rings,prevR-method","text":"row data frame clusters object, rings() determines ring, centered cluster. : rings equal number observations N finite R = Inf; rings equal radius N = Inf R finite; combination (see ) N R finite. *rings equal number observations, rings() selects smallest ring containing least N valid observations. rings equal radius, rings() selects clusters located lower distance R central cluster. combination , rings() calculates first ring minimum number observations test radius lower R . , ring kept, otherwise ring maximum radius calculated. Different series rings simultaneously calculated providing different values N R. rings() calculate rings corresponding couple (N,R).","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/rings-prevR-method.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Calculation of rings of equal number of observation and/or equal radius. — rings,prevR-method","text":"Larmarange Joseph, Vallo Roselyne, Yaro Seydou, Msellati Philippe Meda Nicolas (2011) \"Methods mapping regional trends HIV prevalence Demographic Health Surveys (DHS)\", Cybergeo : European Journal Geography, 558, https://journals.openedition.org/cybergeo/24606, DOI: 10.4000/cybergeo.24606. Larmarange Joseph (2007) Prévalences du VIH en Afrique : validité d'une mesure, PhD thesis demography, directed Benoît Ferry, université Paris Descartes, https://theses.hal.science/tel-00320283.","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/rings-prevR-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculation of rings of equal number of observation and/or equal radius. — rings,prevR-method","text":"","code":"if (FALSE) { print(fdhs) dhs <- rings(fdhs, N = c(100, 200, 300, 400, 500)) print(dhs) }"},{"path":"https://larmarange.github.io/prevR/dev/reference/show-prevR-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary of a prevR object. — show,prevR-method","title":"Summary of a prevR object. — show,prevR-method","text":"Method show objects class prevR: shows summary object's characteristics.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/show-prevR-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary of a prevR object. — show,prevR-method","text":"","code":"# S4 method for prevR show(object)"},{"path":"https://larmarange.github.io/prevR/dev/reference/show-prevR-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary of a prevR object. — show,prevR-method","text":"object object class prevR.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/show-prevR-method.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Summary of a prevR object. — show,prevR-method","text":"Exactly print().","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/show-prevR-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summary of a prevR object. — show,prevR-method","text":"","code":"fdhs #> Object of class 'prevR' #> Number of clusters: 401 #> Number of observations: 8000 #> Number of positive cases: 810 #> The dataset is weighted. #>  #> National prevalence: 10.12% #> National weighted prevalence: 10.16% #>  #> Projection used: +proj=longlat +datum=WGS84 #>  #> Coordinate range #>        min     max #> x -5.37750  3.6850 #> y  4.80326 14.1225 #>  #> Boundary coordinate range #>      xmin      ymin      xmax      ymax  #> -5.518916  4.736723  3.851701 15.082593  if (FALSE) { dhs <- rings(fdhs, N = c(100, 300, 500)) dhs }"},{"path":"https://larmarange.github.io/prevR/dev/reference/st_filter_prevR.html","id":null,"dir":"Reference","previous_headings":"","what":"Spatial filter — st_filter_prevR","title":"Spatial filter — st_filter_prevR","text":"function forces points object class [sf] located outside limits defined object class sp::SpatialPolygons NA.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/st_filter_prevR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Spatial filter — st_filter_prevR","text":"","code":"st_filter_prevR(x, y)"},{"path":"https://larmarange.github.io/prevR/dev/reference/st_filter_prevR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Spatial filter — st_filter_prevR","text":"x object class sf::sf y object class sf::sf","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/st_filter_prevR.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Spatial filter — st_filter_prevR","text":"Return x filtered y","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/st_filter_prevR.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Spatial filter — st_filter_prevR","text":"function try apply sf::st_filter(). case fails, try rebuild y according spherical geometry (see sf::st_as_s2()) filtering. still fail, return x unfiltered.","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/summary-prevR-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Detailed summary of the variables of a prevR object — summary,prevR-method","title":"Detailed summary of the variables of a prevR object — summary,prevR-method","text":"Method summary objects class prevR: shows summary variables object.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/summary-prevR-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detailed summary of the variables of a prevR object — summary,prevR-method","text":"","code":"# S4 method for prevR summary(object, probs = c(0, 0.1, 0.25, 0.5, 0.75, 0.8, 0.9, 0.95, 0.99, 1))"},{"path":"https://larmarange.github.io/prevR/dev/reference/summary-prevR-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detailed summary of the variables of a prevR object — summary,prevR-method","text":"object object class prevR. probs vector probabilities values [0,1] computing quantiles rings radii (see examples).","code":""},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/reference/summary-prevR-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Detailed summary of the variables of a prevR object — summary,prevR-method","text":"","code":"summary(fdhs) #> Object of class 'prevR' #> SLOT CLUSTERS #>        x                 y                n              pos         c.type    #>  Min.   :-5.3775   Min.   : 4.803   Min.   : 8.00   Min.   :0.00   Rural:230   #>  1st Qu.:-1.7925   1st Qu.: 6.375   1st Qu.:17.00   1st Qu.:0.00   Urban:171   #>  Median :-0.7650   Median : 7.455   Median :20.00   Median :2.00               #>  Mean   :-0.6605   Mean   : 8.647   Mean   :19.95   Mean   :2.02               #>  3rd Qu.: 0.1590   3rd Qu.:11.205   3rd Qu.:23.00   3rd Qu.:3.00               #>  Max.   : 3.6850   Max.   :14.123   Max.   :31.00   Max.   :9.00               #>        wn             wpos            prev            wprev        #>  Min.   :18.58   Min.   :0.000   Min.   : 0.000   Min.   : 0.000   #>  1st Qu.:19.84   1st Qu.:0.000   1st Qu.: 0.000   1st Qu.: 0.000   #>  Median :20.04   Median :1.544   Median : 7.692   Median : 7.692   #>  Mean   :19.95   Mean   :2.027   Mean   :10.143   Mean   :10.143   #>  3rd Qu.:20.12   3rd Qu.:3.166   3rd Qu.:15.789   3rd Qu.:15.789   #>  Max.   :21.76   Max.   :8.806   Max.   :43.750   Max.   :43.750   if (FALSE) { dhs <- rings(fdhs, N = c(100, 300, 500)) summary(dhs) summary(dhs, c(0, 0.25, 0.5, 0.75, 1)) }"},{"path":"https://larmarange.github.io/prevR/dev/reference/theme_prevR.html","id":null,"dir":"Reference","previous_headings":"","what":"prevR themes for ggplot2 — theme_prevR","title":"prevR themes for ggplot2 — theme_prevR","text":"Two custom themes ggplot2 graphs, hiding axis.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/theme_prevR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"prevR themes for ggplot2 — theme_prevR","text":"","code":"theme_prevR(base_size = 12)  theme_prevR_light(base_size = 12)"},{"path":"https://larmarange.github.io/prevR/dev/reference/theme_prevR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"prevR themes for ggplot2 — theme_prevR","text":"base_size base font size","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/update_prevR.html","id":null,"dir":"Reference","previous_headings":"","what":"Update a prevR object — update_prevR","title":"Update a prevR object — update_prevR","text":"Update object class prevR created previous version package last version. particular, convert boundary slot defined sp package sf class.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/update_prevR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update a prevR object — update_prevR","text":"","code":"update_prevR(object)"},{"path":"https://larmarange.github.io/prevR/dev/reference/update_prevR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update a prevR object — update_prevR","text":"object prevR object","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/update_prevR.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update a prevR object — update_prevR","text":"prevR object","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/xyz2dataframe.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a surface in xyz to a data frame. — xyz2dataframe","title":"Convert a surface in xyz to a data frame. — xyz2dataframe","text":"Several functions (example KernSmooth::bkde2D()) return surface list \"xyz\" composed three elements: vector ordinates x dimension, vector ordinates y dimension matrix values surface x y. function transforms list \"xyz\" data frame.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/xyz2dataframe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a surface in xyz to a data frame. — xyz2dataframe","text":"","code":"xyz2dataframe(xyz, xcol = 1, ycol = 2, zcol = 3)"},{"path":"https://larmarange.github.io/prevR/dev/reference/xyz2dataframe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a surface in xyz to a data frame. — xyz2dataframe","text":"xyz list 3 elements: vector x-coordinates, vector y-coordinates matrix value point coordinates x[], y[j]. xcol x index. ycol y index. zcol z index.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/xyz2dataframe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a surface in xyz to a data frame. — xyz2dataframe","text":"data.frame.","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/xyz2dataframe.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Convert a surface in xyz to a data frame. — xyz2dataframe","text":"xyz list like x,y,z1,z2,z3. , zcol equal c(\"z1\",\"z2\",\"z3\") c(3,4,5).","code":""},{"path":"https://larmarange.github.io/prevR/dev/reference/xyz2dataframe.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert a surface in xyz to a data frame. — xyz2dataframe","text":"","code":"x <- matrix(c(2, 4, 6, 8, 10, 2, 4, 6, 8, 10), ncol = 2) op <- KernSmooth::bkde2D(x, bandwidth = 1) str(op) #> List of 3 #>  $ x1  : num [1:51] 0.5 0.72 0.94 1.16 1.38 1.6 1.82 2.04 2.26 2.48 ... #>  $ x2  : num [1:51] 0.5 0.72 0.94 1.16 1.38 1.6 1.82 2.04 2.26 2.48 ... #>  $ fhat: num [1:51, 1:51] 0.00339 0.00459 0.00593 0.00729 0.00855 ...  op.df <- xyz2dataframe(op) str(op.df) #> 'data.frame':\t2601 obs. of  3 variables: #>  $ x1  : num  0.5 0.72 0.94 1.16 1.38 1.6 1.82 2.04 2.26 2.48 ... #>  $ x2  : num  0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 ... #>  $ fhat: num  0.00339 0.00459 0.00593 0.00729 0.00855 ..."},{"path":[]},{"path":"https://larmarange.github.io/prevR/dev/news/index.html","id":"prevr-500","dir":"Changelog","previous_headings":"","what":"prevR 5.0.0","title":"prevR 5.0.0","text":"CRAN release: 2023-05-15 BREAKING CHANGE: prevR objects now use sf spatial classes instead sp (#27) can use update_prevR() update prevR object created previous version package .SpatialGrid() method removed: use make.grid.prevR() instead point..SpatialPolygons() NA.outside.SpatialPolygons() removed, see st_filter_prevR() instead kde() krige() methods now return results sf object, see documentation examples plotting exporting","code":""},{"path":"https://larmarange.github.io/prevR/dev/news/index.html","id":"prevr-401","dir":"Changelog","previous_headings":"","what":"prevR 4.0.1","title":"prevR 4.0.1","text":"CRAN release: 2022-11-21 Compatibility rlang 0.3.0 ggplot2 3.4.0 (#24)","code":""},{"path":"https://larmarange.github.io/prevR/dev/news/index.html","id":"prevr-400","dir":"Changelog","previous_headings":"","what":"prevR 4.0.0","title":"prevR 4.0.0","text":"CRAN release: 2022-05-11 Breaking change: Manual fitting variogram longer available krige() relying geoR package removed CRAN (#22) changes: kde() now relies KernSmooth::bkde2D() instead GenKern::KernSur() (#21)","code":""},{"path":"https://larmarange.github.io/prevR/dev/news/index.html","id":"prevr-341","dir":"Changelog","previous_headings":"","what":"prevR 3.4.1","title":"prevR 3.4.1","text":"CRAN release: 2020-08-28 DOI added (#12) example data (fdhs) updated using new CRS representation (#18)","code":""},{"path":"https://larmarange.github.io/prevR/dev/news/index.html","id":"prevr-340","dir":"Changelog","previous_headings":"","what":"prevR 3.4.0","title":"prevR 3.4.0","text":"CRAN release: 2019-05-06 Added NEWS.md file track changes package (#11) Bug fix regarding namespace import (#10) quick.prevR() fixed (#13) vignette added (#14) pkgdown web site added (#15)","code":""}]
